import{d as Ie,e as gi,f as Qe,g as qt,h as Hn,i as ha,k as da}from"./index-C2yd2dwO.js";var zn={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.getLocalStorage=J.getLocalStorageOrThrow=J.getCrypto=J.getCryptoOrThrow=J.getLocation=J.getLocationOrThrow=J.getNavigator=J.getNavigatorOrThrow=J.getDocument=J.getDocumentOrThrow=J.getFromWindowOrThrow=J.getFromWindow=void 0;function Ye(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}J.getFromWindow=Ye;function lt(t){const e=Ye(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}J.getFromWindowOrThrow=lt;function pa(){return lt("document")}J.getDocumentOrThrow=pa;function ga(){return Ye("document")}J.getDocument=ga;function _a(){return lt("navigator")}J.getNavigatorOrThrow=_a;function ma(){return Ye("navigator")}J.getNavigator=ma;function va(){return lt("location")}J.getLocationOrThrow=va;function wa(){return Ye("location")}J.getLocation=wa;function ya(){return lt("crypto")}J.getCryptoOrThrow=ya;function ba(){return Ye("crypto")}J.getCrypto=ba;function Ma(){return lt("localStorage")}J.getLocalStorageOrThrow=Ma;function xa(){return Ye("localStorage")}J.getLocalStorage=xa;Object.defineProperty(zn,"__esModule",{value:!0});var _i=zn.getWindowMetadata=void 0;const Nr=J;function Sa(){let t,e;try{t=Nr.getDocumentOrThrow(),e=Nr.getLocationOrThrow()}catch{return null}function n(){const E=t.getElementsByTagName("link"),k=[];for(let I=0;I<E.length;I++){const T=E[I],A=T.getAttribute("rel");if(A&&A.toLowerCase().indexOf("icon")>-1){const y=T.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let M=e.protocol+"//"+e.host;if(y.indexOf("/")===0)M+=y;else{const C=e.pathname.split("/");C.pop();const x=C.join("/");M+=x+"/"+y}k.push(M)}else if(y.indexOf("//")===0){const M=e.protocol+y;k.push(M)}else k.push(y)}}return k}function r(...E){const k=t.getElementsByTagName("meta");for(let I=0;I<k.length;I++){const T=k[I],A=["itemprop","property","name"].map(y=>T.getAttribute(y)).filter(y=>y?E.includes(y):!1);if(A.length&&A){const y=T.getAttribute("content");if(y)return y}}return""}function a(){let E=r("name","og:site_name","og:title","twitter:title");return E||(E=t.title),E}function i(){return r("description","og:description","twitter:description","keywords")}const l=a(),h=i(),_=e.origin,v=n();return{description:h,url:_,icons:v,name:l}}_i=zn.getWindowMetadata=Sa;var K={};Object.defineProperty(K,"__esModule",{value:!0});var mi=K.getLocalStorage=Ri=K.getLocalStorageOrThrow=ki=K.getCrypto=Ci=K.getCryptoOrThrow=Ei=K.getLocation=Si=K.getLocationOrThrow=xi=K.getNavigator=Mi=K.getNavigatorOrThrow=bi=K.getDocument=yi=K.getDocumentOrThrow=wi=K.getFromWindowOrThrow=vi=K.getFromWindow=void 0;function Ge(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var vi=K.getFromWindow=Ge;function ut(t){const e=Ge(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var wi=K.getFromWindowOrThrow=ut;function Ea(){return ut("document")}var yi=K.getDocumentOrThrow=Ea;function Ca(){return Ge("document")}var bi=K.getDocument=Ca;function ka(){return ut("navigator")}var Mi=K.getNavigatorOrThrow=ka;function Ra(){return Ge("navigator")}var xi=K.getNavigator=Ra;function Ta(){return ut("location")}var Si=K.getLocationOrThrow=Ta;function Ia(){return Ge("location")}var Ei=K.getLocation=Ia;function Aa(){return ut("crypto")}var Ci=K.getCryptoOrThrow=Aa;function Oa(){return Ge("crypto")}var ki=K.getCrypto=Oa;function Na(){return ut("localStorage")}var Ri=K.getLocalStorageOrThrow=Na;function Ba(){return Ge("localStorage")}mi=K.getLocalStorage=Ba;var La=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],l=0,h=i.length;l<h;l++,a++)r[a]=i[l];return r},Pa=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),qa=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=Ie.process.platform}return t}(),Ua=function(){function t(e,n,r,a){this.name=e,this.version=n,this.os=r,this.bot=a,this.type="bot-device"}return t}(),Da=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Fa=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),$a=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Wa=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Br=3,Ha=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",$a]],Lr=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function za(t){return t?Pr(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Fa:typeof navigator<"u"?Pr(navigator.userAgent):Ka()}function ja(t){return t!==""&&Ha.reduce(function(e,n){var r=n[0],a=n[1];if(e)return e;var i=a.exec(t);return!!i&&[r,i]},!1)}function Pr(t){var e=ja(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Da;var a=r[1]&&r[1].split(/[._]/).slice(0,3);a?a.length<Br&&(a=La(a,Va(Br-a.length))):a=[];var i=a.join("."),l=Ja(t),h=Wa.exec(t);return h&&h[1]?new Ua(n,i,l,h[1]):new Pa(n,i,l)}function Ja(t){for(var e=0,n=Lr.length;e<n;e++){var r=Lr[e],a=r[0],i=r[1],l=i.exec(t);if(l)return a}return null}function Ka(){var t=typeof Ie.process<"u"&&Ie.process.version;return t?new qa(Ie.process.version.slice(1)):null}function Va(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}function Ut(t){return za(t)}function Dt(){const t=Ut();return t&&t.os?t.os:void 0}function Ti(){const t=Dt();return t?t.toLowerCase().includes("android"):!1}function Ii(){const t=Dt();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function Ai(){return Dt()?Ti()||Ii():!1}function Oi(){const t=Ut();return t&&t.name?t.name.toLowerCase()==="node":!1}function Ni(){return!Oi()&&!!Li()}const Bi=vi,Qa=wi,Ya=yi,Ga=bi,Za=Mi,Li=xi,Xa=Si,Pi=Ei,es=Ci,ts=ki,ns=Ri,Ft=mi;function En(){return _i()}function rs(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function is(t){return typeof t=="string"?t:JSON.stringify(t)}const qi=rs,Ui=is;function jn(t,e){const n=Ui(e),r=Ft();r&&r.setItem(t,n)}function Jn(t){let e=null,n=null;const r=Ft();return r&&(n=r.getItem(t)),e=n&&qi(n),e}function Kn(t){const e=Ft();e&&e.removeItem(t)}const Tt="WALLETCONNECT_DEEPLINK_CHOICE";function os(t,e){const n=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${n}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${n}`:""}function as(t){const e=t.href.split("?")[0];jn(Tt,Object.assign(Object.assign({},t),{href:e}))}function Di(t,e){return t.filter(n=>n.name.toLowerCase().includes(e.toLowerCase()))[0]}function ss(t,e){let n=t;return e&&(n=e.map(r=>Di(t,r)).filter(Boolean)),n}const Fi="https://registry.walletconnect.com";function cs(){return Fi+"/api/v2/wallets"}function ls(){return Fi+"/api/v2/dapps"}function $i(t,e="mobile"){var n;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(n=t.image_url.sm)!==null&&n!==void 0?n:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function us(t,e="mobile"){return Object.values(t).filter(n=>!!n[e].universal||!!n[e].native).map(n=>$i(n,e))}const fs=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:Ut,detectOS:Dt,formatIOSMobile:os,formatMobileRegistry:us,formatMobileRegistryEntry:$i,getClientMeta:En,getCrypto:ts,getCryptoOrThrow:es,getDappRegistryUrl:ls,getDocument:Ga,getDocumentOrThrow:Ya,getFromWindow:Bi,getFromWindowOrThrow:Qa,getLocal:Jn,getLocalStorage:Ft,getLocalStorageOrThrow:ns,getLocation:Pi,getLocationOrThrow:Xa,getMobileLinkRegistry:ss,getMobileRegistryEntry:Di,getNavigator:Li,getNavigatorOrThrow:Za,getWalletRegistryUrl:cs,isAndroid:Ti,isBrowser:Ni,isIOS:Ii,isMobile:Ai,isNode:Oi,mobileLinkChoiceKey:Tt,removeLocal:Kn,safeJsonParse:qi,safeJsonStringify:Ui,saveMobileLinkInfo:as,setLocal:jn},Symbol.toStringTag,{value:"Module"})),hs=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Vn=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],ds={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Qn={exports:{}};Qn.exports;(function(t){(function(e,n){function r(w,o){if(!w)throw new Error(o||"Assertion failed")}function a(w,o){w.super_=o;var c=function(){};c.prototype=o.prototype,w.prototype=new c,w.prototype.constructor=w}function i(w,o,c){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((o==="le"||o==="be")&&(c=o,o=10),this._init(w||0,o||10,c||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var l;try{l=gi.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,c){return o.cmp(c)>0?o:c},i.min=function(o,c){return o.cmp(c)<0?o:c},i.prototype._init=function(o,c,u){if(typeof o=="number")return this._initNumber(o,c,u);if(typeof o=="object")return this._initArray(o,c,u);c==="hex"&&(c=16),r(c===(c|0)&&c>=2&&c<=36),o=o.toString().replace(/\s+/g,"");var f=0;o[0]==="-"&&f++,c===16?this._parseHex(o,f):this._parseBase(o,c,f),o[0]==="-"&&(this.negative=1),this.strip(),u==="le"&&this._initArray(this.toArray(),c,u)},i.prototype._initNumber=function(o,c,u){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),c,u)},i.prototype._initArray=function(o,c,u){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var g,b,S=0;if(u==="be")for(f=o.length-1,g=0;f>=0;f-=3)b=o[f]|o[f-1]<<8|o[f-2]<<16,this.words[g]|=b<<S&67108863,this.words[g+1]=b>>>26-S&67108863,S+=24,S>=26&&(S-=26,g++);else if(u==="le")for(f=0,g=0;f<o.length;f+=3)b=o[f]|o[f+1]<<8|o[f+2]<<16,this.words[g]|=b<<S&67108863,this.words[g+1]=b>>>26-S&67108863,S+=24,S>=26&&(S-=26,g++);return this.strip()};function h(w,o,c){for(var u=0,f=Math.min(w.length,c),g=o;g<f;g++){var b=w.charCodeAt(g)-48;u<<=4,b>=49&&b<=54?u|=b-49+10:b>=17&&b<=22?u|=b-17+10:u|=b&15}return u}i.prototype._parseHex=function(o,c){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var f,g,b=0;for(u=o.length-6,f=0;u>=c;u-=6)g=h(o,u,u+6),this.words[f]|=g<<b&67108863,this.words[f+1]|=g>>>26-b&4194303,b+=24,b>=26&&(b-=26,f++);u+6!==c&&(g=h(o,c,u+6),this.words[f]|=g<<b&67108863,this.words[f+1]|=g>>>26-b&4194303),this.strip()};function _(w,o,c,u){for(var f=0,g=Math.min(w.length,c),b=o;b<g;b++){var S=w.charCodeAt(b)-48;f*=u,S>=49?f+=S-49+10:S>=17?f+=S-17+10:f+=S}return f}i.prototype._parseBase=function(o,c,u){this.words=[0],this.length=1;for(var f=0,g=1;g<=67108863;g*=c)f++;f--,g=g/c|0;for(var b=o.length-u,S=b%f,d=Math.min(b,b-S)+u,s=0,p=u;p<d;p+=f)s=_(o,p,p+f,c),this.imuln(g),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(S!==0){var L=1;for(s=_(o,p,o.length,c),p=0;p<S;p++)L*=c;this.imuln(L),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}},i.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,c){o=o||10,c=c|0||1;var u;if(o===16||o==="hex"){u="";for(var f=0,g=0,b=0;b<this.length;b++){var S=this.words[b],d=((S<<f|g)&16777215).toString(16);g=S>>>24-f&16777215,g!==0||b!==this.length-1?u=v[6-d.length]+d+u:u=d+u,f+=2,f>=26&&(f-=26,b--)}for(g!==0&&(u=g.toString(16)+u);u.length%c!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(o===(o|0)&&o>=2&&o<=36){var s=m[o],p=E[o];u="";var L=this.clone();for(L.negative=0;!L.isZero();){var P=L.modn(p).toString(o);L=L.idivn(p),L.isZero()?u=P+u:u=v[s-P.length]+P+u}for(this.isZero()&&(u="0"+u);u.length%c!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,c){return r(typeof l<"u"),this.toArrayLike(l,o,c)},i.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)},i.prototype.toArrayLike=function(o,c,u){var f=this.byteLength(),g=u||Math.max(1,f);r(f<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var b=c==="le",S=new o(g),d,s,p=this.clone();if(b){for(s=0;!p.isZero();s++)d=p.andln(255),p.iushrn(8),S[s]=d;for(;s<g;s++)S[s]=0}else{for(s=0;s<g-f;s++)S[s]=0;for(s=0;!p.isZero();s++)d=p.andln(255),p.iushrn(8),S[g-s-1]=d}return S},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var c=o,u=0;return c>=4096&&(u+=13,c>>>=13),c>=64&&(u+=7,c>>>=7),c>=8&&(u+=4,c>>>=4),c>=2&&(u+=2,c>>>=2),u+c},i.prototype._zeroBits=function(o){if(o===0)return 26;var c=o,u=0;return c&8191||(u+=13,c>>>=13),c&127||(u+=7,c>>>=7),c&15||(u+=4,c>>>=4),c&3||(u+=2,c>>>=2),c&1||u++,u},i.prototype.bitLength=function(){var o=this.words[this.length-1],c=this._countBits(o);return(this.length-1)*26+c};function k(w){for(var o=new Array(w.bitLength()),c=0;c<o.length;c++){var u=c/26|0,f=c%26;o[c]=(w.words[u]&1<<f)>>>f}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var u=this._zeroBits(this.words[c]);if(o+=u,u!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this.strip()},i.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var c;this.length>o.length?c=o:c=this;for(var u=0;u<c.length;u++)this.words[u]=this.words[u]&o.words[u];return this.length=c.length,this.strip()},i.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var c,u;this.length>o.length?(c=this,u=o):(c=o,u=this);for(var f=0;f<u.length;f++)this.words[f]=c.words[f]^u.words[f];if(this!==c)for(;f<c.length;f++)this.words[f]=c.words[f];return this.length=c.length,this.strip()},i.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var c=Math.ceil(o/26)|0,u=o%26;this._expand(c),u>0&&c--;for(var f=0;f<c;f++)this.words[f]=~this.words[f]&67108863;return u>0&&(this.words[f]=~this.words[f]&67108863>>26-u),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,c){r(typeof o=="number"&&o>=0);var u=o/26|0,f=o%26;return this._expand(u+1),c?this.words[u]=this.words[u]|1<<f:this.words[u]=this.words[u]&~(1<<f),this.strip()},i.prototype.iadd=function(o){var c;if(this.negative!==0&&o.negative===0)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();var u,f;this.length>o.length?(u=this,f=o):(u=o,f=this);for(var g=0,b=0;b<f.length;b++)c=(u.words[b]|0)+(f.words[b]|0)+g,this.words[b]=c&67108863,g=c>>>26;for(;g!==0&&b<u.length;b++)c=(u.words[b]|0)+g,this.words[b]=c&67108863,g=c>>>26;if(this.length=u.length,g!==0)this.words[this.length]=g,this.length++;else if(u!==this)for(;b<u.length;b++)this.words[b]=u.words[b];return this},i.prototype.add=function(o){var c;return o.negative!==0&&this.negative===0?(o.negative=0,c=this.sub(o),o.negative^=1,c):o.negative===0&&this.negative!==0?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var u=this.cmp(o);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,g;u>0?(f=this,g=o):(f=o,g=this);for(var b=0,S=0;S<g.length;S++)c=(f.words[S]|0)-(g.words[S]|0)+b,b=c>>26,this.words[S]=c&67108863;for(;b!==0&&S<f.length;S++)c=(f.words[S]|0)+b,b=c>>26,this.words[S]=c&67108863;if(b===0&&S<f.length&&f!==this)for(;S<f.length;S++)this.words[S]=f.words[S];return this.length=Math.max(this.length,S),f!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function I(w,o,c){c.negative=o.negative^w.negative;var u=w.length+o.length|0;c.length=u,u=u-1|0;var f=w.words[0]|0,g=o.words[0]|0,b=f*g,S=b&67108863,d=b/67108864|0;c.words[0]=S;for(var s=1;s<u;s++){for(var p=d>>>26,L=d&67108863,P=Math.min(s,o.length-1),q=Math.max(0,s-w.length+1);q<=P;q++){var $=s-q|0;f=w.words[$]|0,g=o.words[q]|0,b=f*g+L,p+=b/67108864|0,L=b&67108863}c.words[s]=L|0,d=p|0}return d!==0?c.words[s]=d|0:c.length--,c.strip()}var T=function(o,c,u){var f=o.words,g=c.words,b=u.words,S=0,d,s,p,L=f[0]|0,P=L&8191,q=L>>>13,$=f[1]|0,H=$&8191,z=$>>>13,$e=f[2]|0,j=$e&8191,V=$e>>>13,_r=f[3]|0,Y=_r&8191,G=_r>>>13,mr=f[4]|0,Z=mr&8191,X=mr>>>13,vr=f[5]|0,ee=vr&8191,te=vr>>>13,wr=f[6]|0,ne=wr&8191,re=wr>>>13,yr=f[7]|0,ie=yr&8191,oe=yr>>>13,br=f[8]|0,ae=br&8191,se=br>>>13,Mr=f[9]|0,ce=Mr&8191,le=Mr>>>13,xr=g[0]|0,ue=xr&8191,fe=xr>>>13,Sr=g[1]|0,he=Sr&8191,de=Sr>>>13,Er=g[2]|0,pe=Er&8191,ge=Er>>>13,Cr=g[3]|0,_e=Cr&8191,me=Cr>>>13,kr=g[4]|0,ve=kr&8191,we=kr>>>13,Rr=g[5]|0,ye=Rr&8191,be=Rr>>>13,Tr=g[6]|0,Me=Tr&8191,xe=Tr>>>13,Ir=g[7]|0,Se=Ir&8191,Ee=Ir>>>13,Ar=g[8]|0,Ce=Ar&8191,ke=Ar>>>13,Or=g[9]|0,Re=Or&8191,Te=Or>>>13;u.negative=o.negative^c.negative,u.length=19,d=Math.imul(P,ue),s=Math.imul(P,fe),s=s+Math.imul(q,ue)|0,p=Math.imul(q,fe);var Qt=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,d=Math.imul(H,ue),s=Math.imul(H,fe),s=s+Math.imul(z,ue)|0,p=Math.imul(z,fe),d=d+Math.imul(P,he)|0,s=s+Math.imul(P,de)|0,s=s+Math.imul(q,he)|0,p=p+Math.imul(q,de)|0;var Yt=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,d=Math.imul(j,ue),s=Math.imul(j,fe),s=s+Math.imul(V,ue)|0,p=Math.imul(V,fe),d=d+Math.imul(H,he)|0,s=s+Math.imul(H,de)|0,s=s+Math.imul(z,he)|0,p=p+Math.imul(z,de)|0,d=d+Math.imul(P,pe)|0,s=s+Math.imul(P,ge)|0,s=s+Math.imul(q,pe)|0,p=p+Math.imul(q,ge)|0;var Gt=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,d=Math.imul(Y,ue),s=Math.imul(Y,fe),s=s+Math.imul(G,ue)|0,p=Math.imul(G,fe),d=d+Math.imul(j,he)|0,s=s+Math.imul(j,de)|0,s=s+Math.imul(V,he)|0,p=p+Math.imul(V,de)|0,d=d+Math.imul(H,pe)|0,s=s+Math.imul(H,ge)|0,s=s+Math.imul(z,pe)|0,p=p+Math.imul(z,ge)|0,d=d+Math.imul(P,_e)|0,s=s+Math.imul(P,me)|0,s=s+Math.imul(q,_e)|0,p=p+Math.imul(q,me)|0;var Zt=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,d=Math.imul(Z,ue),s=Math.imul(Z,fe),s=s+Math.imul(X,ue)|0,p=Math.imul(X,fe),d=d+Math.imul(Y,he)|0,s=s+Math.imul(Y,de)|0,s=s+Math.imul(G,he)|0,p=p+Math.imul(G,de)|0,d=d+Math.imul(j,pe)|0,s=s+Math.imul(j,ge)|0,s=s+Math.imul(V,pe)|0,p=p+Math.imul(V,ge)|0,d=d+Math.imul(H,_e)|0,s=s+Math.imul(H,me)|0,s=s+Math.imul(z,_e)|0,p=p+Math.imul(z,me)|0,d=d+Math.imul(P,ve)|0,s=s+Math.imul(P,we)|0,s=s+Math.imul(q,ve)|0,p=p+Math.imul(q,we)|0;var Xt=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,d=Math.imul(ee,ue),s=Math.imul(ee,fe),s=s+Math.imul(te,ue)|0,p=Math.imul(te,fe),d=d+Math.imul(Z,he)|0,s=s+Math.imul(Z,de)|0,s=s+Math.imul(X,he)|0,p=p+Math.imul(X,de)|0,d=d+Math.imul(Y,pe)|0,s=s+Math.imul(Y,ge)|0,s=s+Math.imul(G,pe)|0,p=p+Math.imul(G,ge)|0,d=d+Math.imul(j,_e)|0,s=s+Math.imul(j,me)|0,s=s+Math.imul(V,_e)|0,p=p+Math.imul(V,me)|0,d=d+Math.imul(H,ve)|0,s=s+Math.imul(H,we)|0,s=s+Math.imul(z,ve)|0,p=p+Math.imul(z,we)|0,d=d+Math.imul(P,ye)|0,s=s+Math.imul(P,be)|0,s=s+Math.imul(q,ye)|0,p=p+Math.imul(q,be)|0;var en=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(en>>>26)|0,en&=67108863,d=Math.imul(ne,ue),s=Math.imul(ne,fe),s=s+Math.imul(re,ue)|0,p=Math.imul(re,fe),d=d+Math.imul(ee,he)|0,s=s+Math.imul(ee,de)|0,s=s+Math.imul(te,he)|0,p=p+Math.imul(te,de)|0,d=d+Math.imul(Z,pe)|0,s=s+Math.imul(Z,ge)|0,s=s+Math.imul(X,pe)|0,p=p+Math.imul(X,ge)|0,d=d+Math.imul(Y,_e)|0,s=s+Math.imul(Y,me)|0,s=s+Math.imul(G,_e)|0,p=p+Math.imul(G,me)|0,d=d+Math.imul(j,ve)|0,s=s+Math.imul(j,we)|0,s=s+Math.imul(V,ve)|0,p=p+Math.imul(V,we)|0,d=d+Math.imul(H,ye)|0,s=s+Math.imul(H,be)|0,s=s+Math.imul(z,ye)|0,p=p+Math.imul(z,be)|0,d=d+Math.imul(P,Me)|0,s=s+Math.imul(P,xe)|0,s=s+Math.imul(q,Me)|0,p=p+Math.imul(q,xe)|0;var tn=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863,d=Math.imul(ie,ue),s=Math.imul(ie,fe),s=s+Math.imul(oe,ue)|0,p=Math.imul(oe,fe),d=d+Math.imul(ne,he)|0,s=s+Math.imul(ne,de)|0,s=s+Math.imul(re,he)|0,p=p+Math.imul(re,de)|0,d=d+Math.imul(ee,pe)|0,s=s+Math.imul(ee,ge)|0,s=s+Math.imul(te,pe)|0,p=p+Math.imul(te,ge)|0,d=d+Math.imul(Z,_e)|0,s=s+Math.imul(Z,me)|0,s=s+Math.imul(X,_e)|0,p=p+Math.imul(X,me)|0,d=d+Math.imul(Y,ve)|0,s=s+Math.imul(Y,we)|0,s=s+Math.imul(G,ve)|0,p=p+Math.imul(G,we)|0,d=d+Math.imul(j,ye)|0,s=s+Math.imul(j,be)|0,s=s+Math.imul(V,ye)|0,p=p+Math.imul(V,be)|0,d=d+Math.imul(H,Me)|0,s=s+Math.imul(H,xe)|0,s=s+Math.imul(z,Me)|0,p=p+Math.imul(z,xe)|0,d=d+Math.imul(P,Se)|0,s=s+Math.imul(P,Ee)|0,s=s+Math.imul(q,Se)|0,p=p+Math.imul(q,Ee)|0;var nn=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,d=Math.imul(ae,ue),s=Math.imul(ae,fe),s=s+Math.imul(se,ue)|0,p=Math.imul(se,fe),d=d+Math.imul(ie,he)|0,s=s+Math.imul(ie,de)|0,s=s+Math.imul(oe,he)|0,p=p+Math.imul(oe,de)|0,d=d+Math.imul(ne,pe)|0,s=s+Math.imul(ne,ge)|0,s=s+Math.imul(re,pe)|0,p=p+Math.imul(re,ge)|0,d=d+Math.imul(ee,_e)|0,s=s+Math.imul(ee,me)|0,s=s+Math.imul(te,_e)|0,p=p+Math.imul(te,me)|0,d=d+Math.imul(Z,ve)|0,s=s+Math.imul(Z,we)|0,s=s+Math.imul(X,ve)|0,p=p+Math.imul(X,we)|0,d=d+Math.imul(Y,ye)|0,s=s+Math.imul(Y,be)|0,s=s+Math.imul(G,ye)|0,p=p+Math.imul(G,be)|0,d=d+Math.imul(j,Me)|0,s=s+Math.imul(j,xe)|0,s=s+Math.imul(V,Me)|0,p=p+Math.imul(V,xe)|0,d=d+Math.imul(H,Se)|0,s=s+Math.imul(H,Ee)|0,s=s+Math.imul(z,Se)|0,p=p+Math.imul(z,Ee)|0,d=d+Math.imul(P,Ce)|0,s=s+Math.imul(P,ke)|0,s=s+Math.imul(q,Ce)|0,p=p+Math.imul(q,ke)|0;var rn=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(rn>>>26)|0,rn&=67108863,d=Math.imul(ce,ue),s=Math.imul(ce,fe),s=s+Math.imul(le,ue)|0,p=Math.imul(le,fe),d=d+Math.imul(ae,he)|0,s=s+Math.imul(ae,de)|0,s=s+Math.imul(se,he)|0,p=p+Math.imul(se,de)|0,d=d+Math.imul(ie,pe)|0,s=s+Math.imul(ie,ge)|0,s=s+Math.imul(oe,pe)|0,p=p+Math.imul(oe,ge)|0,d=d+Math.imul(ne,_e)|0,s=s+Math.imul(ne,me)|0,s=s+Math.imul(re,_e)|0,p=p+Math.imul(re,me)|0,d=d+Math.imul(ee,ve)|0,s=s+Math.imul(ee,we)|0,s=s+Math.imul(te,ve)|0,p=p+Math.imul(te,we)|0,d=d+Math.imul(Z,ye)|0,s=s+Math.imul(Z,be)|0,s=s+Math.imul(X,ye)|0,p=p+Math.imul(X,be)|0,d=d+Math.imul(Y,Me)|0,s=s+Math.imul(Y,xe)|0,s=s+Math.imul(G,Me)|0,p=p+Math.imul(G,xe)|0,d=d+Math.imul(j,Se)|0,s=s+Math.imul(j,Ee)|0,s=s+Math.imul(V,Se)|0,p=p+Math.imul(V,Ee)|0,d=d+Math.imul(H,Ce)|0,s=s+Math.imul(H,ke)|0,s=s+Math.imul(z,Ce)|0,p=p+Math.imul(z,ke)|0,d=d+Math.imul(P,Re)|0,s=s+Math.imul(P,Te)|0,s=s+Math.imul(q,Re)|0,p=p+Math.imul(q,Te)|0;var on=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(on>>>26)|0,on&=67108863,d=Math.imul(ce,he),s=Math.imul(ce,de),s=s+Math.imul(le,he)|0,p=Math.imul(le,de),d=d+Math.imul(ae,pe)|0,s=s+Math.imul(ae,ge)|0,s=s+Math.imul(se,pe)|0,p=p+Math.imul(se,ge)|0,d=d+Math.imul(ie,_e)|0,s=s+Math.imul(ie,me)|0,s=s+Math.imul(oe,_e)|0,p=p+Math.imul(oe,me)|0,d=d+Math.imul(ne,ve)|0,s=s+Math.imul(ne,we)|0,s=s+Math.imul(re,ve)|0,p=p+Math.imul(re,we)|0,d=d+Math.imul(ee,ye)|0,s=s+Math.imul(ee,be)|0,s=s+Math.imul(te,ye)|0,p=p+Math.imul(te,be)|0,d=d+Math.imul(Z,Me)|0,s=s+Math.imul(Z,xe)|0,s=s+Math.imul(X,Me)|0,p=p+Math.imul(X,xe)|0,d=d+Math.imul(Y,Se)|0,s=s+Math.imul(Y,Ee)|0,s=s+Math.imul(G,Se)|0,p=p+Math.imul(G,Ee)|0,d=d+Math.imul(j,Ce)|0,s=s+Math.imul(j,ke)|0,s=s+Math.imul(V,Ce)|0,p=p+Math.imul(V,ke)|0,d=d+Math.imul(H,Re)|0,s=s+Math.imul(H,Te)|0,s=s+Math.imul(z,Re)|0,p=p+Math.imul(z,Te)|0;var an=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(an>>>26)|0,an&=67108863,d=Math.imul(ce,pe),s=Math.imul(ce,ge),s=s+Math.imul(le,pe)|0,p=Math.imul(le,ge),d=d+Math.imul(ae,_e)|0,s=s+Math.imul(ae,me)|0,s=s+Math.imul(se,_e)|0,p=p+Math.imul(se,me)|0,d=d+Math.imul(ie,ve)|0,s=s+Math.imul(ie,we)|0,s=s+Math.imul(oe,ve)|0,p=p+Math.imul(oe,we)|0,d=d+Math.imul(ne,ye)|0,s=s+Math.imul(ne,be)|0,s=s+Math.imul(re,ye)|0,p=p+Math.imul(re,be)|0,d=d+Math.imul(ee,Me)|0,s=s+Math.imul(ee,xe)|0,s=s+Math.imul(te,Me)|0,p=p+Math.imul(te,xe)|0,d=d+Math.imul(Z,Se)|0,s=s+Math.imul(Z,Ee)|0,s=s+Math.imul(X,Se)|0,p=p+Math.imul(X,Ee)|0,d=d+Math.imul(Y,Ce)|0,s=s+Math.imul(Y,ke)|0,s=s+Math.imul(G,Ce)|0,p=p+Math.imul(G,ke)|0,d=d+Math.imul(j,Re)|0,s=s+Math.imul(j,Te)|0,s=s+Math.imul(V,Re)|0,p=p+Math.imul(V,Te)|0;var sn=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(sn>>>26)|0,sn&=67108863,d=Math.imul(ce,_e),s=Math.imul(ce,me),s=s+Math.imul(le,_e)|0,p=Math.imul(le,me),d=d+Math.imul(ae,ve)|0,s=s+Math.imul(ae,we)|0,s=s+Math.imul(se,ve)|0,p=p+Math.imul(se,we)|0,d=d+Math.imul(ie,ye)|0,s=s+Math.imul(ie,be)|0,s=s+Math.imul(oe,ye)|0,p=p+Math.imul(oe,be)|0,d=d+Math.imul(ne,Me)|0,s=s+Math.imul(ne,xe)|0,s=s+Math.imul(re,Me)|0,p=p+Math.imul(re,xe)|0,d=d+Math.imul(ee,Se)|0,s=s+Math.imul(ee,Ee)|0,s=s+Math.imul(te,Se)|0,p=p+Math.imul(te,Ee)|0,d=d+Math.imul(Z,Ce)|0,s=s+Math.imul(Z,ke)|0,s=s+Math.imul(X,Ce)|0,p=p+Math.imul(X,ke)|0,d=d+Math.imul(Y,Re)|0,s=s+Math.imul(Y,Te)|0,s=s+Math.imul(G,Re)|0,p=p+Math.imul(G,Te)|0;var cn=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(cn>>>26)|0,cn&=67108863,d=Math.imul(ce,ve),s=Math.imul(ce,we),s=s+Math.imul(le,ve)|0,p=Math.imul(le,we),d=d+Math.imul(ae,ye)|0,s=s+Math.imul(ae,be)|0,s=s+Math.imul(se,ye)|0,p=p+Math.imul(se,be)|0,d=d+Math.imul(ie,Me)|0,s=s+Math.imul(ie,xe)|0,s=s+Math.imul(oe,Me)|0,p=p+Math.imul(oe,xe)|0,d=d+Math.imul(ne,Se)|0,s=s+Math.imul(ne,Ee)|0,s=s+Math.imul(re,Se)|0,p=p+Math.imul(re,Ee)|0,d=d+Math.imul(ee,Ce)|0,s=s+Math.imul(ee,ke)|0,s=s+Math.imul(te,Ce)|0,p=p+Math.imul(te,ke)|0,d=d+Math.imul(Z,Re)|0,s=s+Math.imul(Z,Te)|0,s=s+Math.imul(X,Re)|0,p=p+Math.imul(X,Te)|0;var ln=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(ln>>>26)|0,ln&=67108863,d=Math.imul(ce,ye),s=Math.imul(ce,be),s=s+Math.imul(le,ye)|0,p=Math.imul(le,be),d=d+Math.imul(ae,Me)|0,s=s+Math.imul(ae,xe)|0,s=s+Math.imul(se,Me)|0,p=p+Math.imul(se,xe)|0,d=d+Math.imul(ie,Se)|0,s=s+Math.imul(ie,Ee)|0,s=s+Math.imul(oe,Se)|0,p=p+Math.imul(oe,Ee)|0,d=d+Math.imul(ne,Ce)|0,s=s+Math.imul(ne,ke)|0,s=s+Math.imul(re,Ce)|0,p=p+Math.imul(re,ke)|0,d=d+Math.imul(ee,Re)|0,s=s+Math.imul(ee,Te)|0,s=s+Math.imul(te,Re)|0,p=p+Math.imul(te,Te)|0;var un=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(un>>>26)|0,un&=67108863,d=Math.imul(ce,Me),s=Math.imul(ce,xe),s=s+Math.imul(le,Me)|0,p=Math.imul(le,xe),d=d+Math.imul(ae,Se)|0,s=s+Math.imul(ae,Ee)|0,s=s+Math.imul(se,Se)|0,p=p+Math.imul(se,Ee)|0,d=d+Math.imul(ie,Ce)|0,s=s+Math.imul(ie,ke)|0,s=s+Math.imul(oe,Ce)|0,p=p+Math.imul(oe,ke)|0,d=d+Math.imul(ne,Re)|0,s=s+Math.imul(ne,Te)|0,s=s+Math.imul(re,Re)|0,p=p+Math.imul(re,Te)|0;var fn=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(fn>>>26)|0,fn&=67108863,d=Math.imul(ce,Se),s=Math.imul(ce,Ee),s=s+Math.imul(le,Se)|0,p=Math.imul(le,Ee),d=d+Math.imul(ae,Ce)|0,s=s+Math.imul(ae,ke)|0,s=s+Math.imul(se,Ce)|0,p=p+Math.imul(se,ke)|0,d=d+Math.imul(ie,Re)|0,s=s+Math.imul(ie,Te)|0,s=s+Math.imul(oe,Re)|0,p=p+Math.imul(oe,Te)|0;var hn=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(hn>>>26)|0,hn&=67108863,d=Math.imul(ce,Ce),s=Math.imul(ce,ke),s=s+Math.imul(le,Ce)|0,p=Math.imul(le,ke),d=d+Math.imul(ae,Re)|0,s=s+Math.imul(ae,Te)|0,s=s+Math.imul(se,Re)|0,p=p+Math.imul(se,Te)|0;var dn=(S+d|0)+((s&8191)<<13)|0;S=(p+(s>>>13)|0)+(dn>>>26)|0,dn&=67108863,d=Math.imul(ce,Re),s=Math.imul(ce,Te),s=s+Math.imul(le,Re)|0,p=Math.imul(le,Te);var pn=(S+d|0)+((s&8191)<<13)|0;return S=(p+(s>>>13)|0)+(pn>>>26)|0,pn&=67108863,b[0]=Qt,b[1]=Yt,b[2]=Gt,b[3]=Zt,b[4]=Xt,b[5]=en,b[6]=tn,b[7]=nn,b[8]=rn,b[9]=on,b[10]=an,b[11]=sn,b[12]=cn,b[13]=ln,b[14]=un,b[15]=fn,b[16]=hn,b[17]=dn,b[18]=pn,S!==0&&(b[19]=S,u.length++),u};Math.imul||(T=I);function A(w,o,c){c.negative=o.negative^w.negative,c.length=w.length+o.length;for(var u=0,f=0,g=0;g<c.length-1;g++){var b=f;f=0;for(var S=u&67108863,d=Math.min(g,o.length-1),s=Math.max(0,g-w.length+1);s<=d;s++){var p=g-s,L=w.words[p]|0,P=o.words[s]|0,q=L*P,$=q&67108863;b=b+(q/67108864|0)|0,$=$+S|0,S=$&67108863,b=b+($>>>26)|0,f+=b>>>26,b&=67108863}c.words[g]=S,u=b,b=f}return u!==0?c.words[g]=u:c.length--,c.strip()}function y(w,o,c){var u=new M;return u.mulp(w,o,c)}i.prototype.mulTo=function(o,c){var u,f=this.length+o.length;return this.length===10&&o.length===10?u=T(this,o,c):f<63?u=I(this,o,c):f<1024?u=A(this,o,c):u=y(this,o,c),u};function M(w,o){this.x=w,this.y=o}M.prototype.makeRBT=function(o){for(var c=new Array(o),u=i.prototype._countBits(o)-1,f=0;f<o;f++)c[f]=this.revBin(f,u,o);return c},M.prototype.revBin=function(o,c,u){if(o===0||o===u-1)return o;for(var f=0,g=0;g<c;g++)f|=(o&1)<<c-g-1,o>>=1;return f},M.prototype.permute=function(o,c,u,f,g,b){for(var S=0;S<b;S++)f[S]=c[o[S]],g[S]=u[o[S]]},M.prototype.transform=function(o,c,u,f,g,b){this.permute(b,o,c,u,f,g);for(var S=1;S<g;S<<=1)for(var d=S<<1,s=Math.cos(2*Math.PI/d),p=Math.sin(2*Math.PI/d),L=0;L<g;L+=d)for(var P=s,q=p,$=0;$<S;$++){var H=u[L+$],z=f[L+$],$e=u[L+$+S],j=f[L+$+S],V=P*$e-q*j;j=P*j+q*$e,$e=V,u[L+$]=H+$e,f[L+$]=z+j,u[L+$+S]=H-$e,f[L+$+S]=z-j,$!==d&&(V=s*P-p*q,q=s*q+p*P,P=V)}},M.prototype.guessLen13b=function(o,c){var u=Math.max(c,o)|1,f=u&1,g=0;for(u=u/2|0;u;u=u>>>1)g++;return 1<<g+1+f},M.prototype.conjugate=function(o,c,u){if(!(u<=1))for(var f=0;f<u/2;f++){var g=o[f];o[f]=o[u-f-1],o[u-f-1]=g,g=c[f],c[f]=-c[u-f-1],c[u-f-1]=-g}},M.prototype.normalize13b=function(o,c){for(var u=0,f=0;f<c/2;f++){var g=Math.round(o[2*f+1]/c)*8192+Math.round(o[2*f]/c)+u;o[f]=g&67108863,g<67108864?u=0:u=g/67108864|0}return o},M.prototype.convert13b=function(o,c,u,f){for(var g=0,b=0;b<c;b++)g=g+(o[b]|0),u[2*b]=g&8191,g=g>>>13,u[2*b+1]=g&8191,g=g>>>13;for(b=2*c;b<f;++b)u[b]=0;r(g===0),r((g&-8192)===0)},M.prototype.stub=function(o){for(var c=new Array(o),u=0;u<o;u++)c[u]=0;return c},M.prototype.mulp=function(o,c,u){var f=2*this.guessLen13b(o.length,c.length),g=this.makeRBT(f),b=this.stub(f),S=new Array(f),d=new Array(f),s=new Array(f),p=new Array(f),L=new Array(f),P=new Array(f),q=u.words;q.length=f,this.convert13b(o.words,o.length,S,f),this.convert13b(c.words,c.length,p,f),this.transform(S,b,d,s,f,g),this.transform(p,b,L,P,f,g);for(var $=0;$<f;$++){var H=d[$]*L[$]-s[$]*P[$];s[$]=d[$]*P[$]+s[$]*L[$],d[$]=H}return this.conjugate(d,s,f),this.transform(d,s,q,b,f,g),this.conjugate(q,b,f),this.normalize13b(q,f),u.negative=o.negative^c.negative,u.length=o.length+c.length,u.strip()},i.prototype.mul=function(o){var c=new i(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},i.prototype.mulf=function(o){var c=new i(null);return c.words=new Array(this.length+o.length),y(this,o,c)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){r(typeof o=="number"),r(o<67108864);for(var c=0,u=0;u<this.length;u++){var f=(this.words[u]|0)*o,g=(f&67108863)+(c&67108863);c>>=26,c+=f/67108864|0,c+=g>>>26,this.words[u]=g&67108863}return c!==0&&(this.words[u]=c,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var c=k(o);if(c.length===0)return new i(1);for(var u=this,f=0;f<c.length&&c[f]===0;f++,u=u.sqr());if(++f<c.length)for(var g=u.sqr();f<c.length;f++,g=g.sqr())c[f]!==0&&(u=u.mul(g));return u},i.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var c=o%26,u=(o-c)/26,f=67108863>>>26-c<<26-c,g;if(c!==0){var b=0;for(g=0;g<this.length;g++){var S=this.words[g]&f,d=(this.words[g]|0)-S<<c;this.words[g]=d|b,b=S>>>26-c}b&&(this.words[g]=b,this.length++)}if(u!==0){for(g=this.length-1;g>=0;g--)this.words[g+u]=this.words[g];for(g=0;g<u;g++)this.words[g]=0;this.length+=u}return this.strip()},i.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,c,u){r(typeof o=="number"&&o>=0);var f;c?f=(c-c%26)/26:f=0;var g=o%26,b=Math.min((o-g)/26,this.length),S=67108863^67108863>>>g<<g,d=u;if(f-=b,f=Math.max(0,f),d){for(var s=0;s<b;s++)d.words[s]=this.words[s];d.length=b}if(b!==0)if(this.length>b)for(this.length-=b,s=0;s<this.length;s++)this.words[s]=this.words[s+b];else this.words[0]=0,this.length=1;var p=0;for(s=this.length-1;s>=0&&(p!==0||s>=f);s--){var L=this.words[s]|0;this.words[s]=p<<26-g|L>>>g,p=L&S}return d&&p!==0&&(d.words[d.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,c,u){return r(this.negative===0),this.iushrn(o,c,u)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var c=o%26,u=(o-c)/26,f=1<<c;if(this.length<=u)return!1;var g=this.words[u];return!!(g&f)},i.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var c=o%26,u=(o-c)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(c!==0&&u++,this.length=Math.min(u,this.length),c!==0){var f=67108863^67108863>>>c<<c;this.words[this.length-1]&=f}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},i.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,c,u){var f=o.length+u,g;this._expand(f);var b,S=0;for(g=0;g<o.length;g++){b=(this.words[g+u]|0)+S;var d=(o.words[g]|0)*c;b-=d&67108863,S=(b>>26)-(d/67108864|0),this.words[g+u]=b&67108863}for(;g<this.length-u;g++)b=(this.words[g+u]|0)+S,S=b>>26,this.words[g+u]=b&67108863;if(S===0)return this.strip();for(r(S===-1),S=0,g=0;g<this.length;g++)b=-(this.words[g]|0)+S,S=b>>26,this.words[g]=b&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,c){var u=this.length-o.length,f=this.clone(),g=o,b=g.words[g.length-1]|0,S=this._countBits(b);u=26-S,u!==0&&(g=g.ushln(u),f.iushln(u),b=g.words[g.length-1]|0);var d=f.length-g.length,s;if(c!=="mod"){s=new i(null),s.length=d+1,s.words=new Array(s.length);for(var p=0;p<s.length;p++)s.words[p]=0}var L=f.clone()._ishlnsubmul(g,1,d);L.negative===0&&(f=L,s&&(s.words[d]=1));for(var P=d-1;P>=0;P--){var q=(f.words[g.length+P]|0)*67108864+(f.words[g.length+P-1]|0);for(q=Math.min(q/b|0,67108863),f._ishlnsubmul(g,q,P);f.negative!==0;)q--,f.negative=0,f._ishlnsubmul(g,1,P),f.isZero()||(f.negative^=1);s&&(s.words[P]=q)}return s&&s.strip(),f.strip(),c!=="div"&&u!==0&&f.iushrn(u),{div:s||null,mod:f}},i.prototype.divmod=function(o,c,u){if(r(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var f,g,b;return this.negative!==0&&o.negative===0?(b=this.neg().divmod(o,c),c!=="mod"&&(f=b.div.neg()),c!=="div"&&(g=b.mod.neg(),u&&g.negative!==0&&g.iadd(o)),{div:f,mod:g}):this.negative===0&&o.negative!==0?(b=this.divmod(o.neg(),c),c!=="mod"&&(f=b.div.neg()),{div:f,mod:b.mod}):this.negative&o.negative?(b=this.neg().divmod(o.neg(),c),c!=="div"&&(g=b.mod.neg(),u&&g.negative!==0&&g.isub(o)),{div:b.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?c==="div"?{div:this.divn(o.words[0]),mod:null}:c==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,c)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var u=c.div.negative!==0?c.mod.isub(o):c.mod,f=o.ushrn(1),g=o.andln(1),b=u.cmp(f);return b<0||g===1&&b===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},i.prototype.modn=function(o){r(o<=67108863);for(var c=(1<<26)%o,u=0,f=this.length-1;f>=0;f--)u=(c*u+(this.words[f]|0))%o;return u},i.prototype.idivn=function(o){r(o<=67108863);for(var c=0,u=this.length-1;u>=0;u--){var f=(this.words[u]|0)+c*67108864;this.words[u]=f/o|0,c=f%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var c=this,u=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var f=new i(1),g=new i(0),b=new i(0),S=new i(1),d=0;c.isEven()&&u.isEven();)c.iushrn(1),u.iushrn(1),++d;for(var s=u.clone(),p=c.clone();!c.isZero();){for(var L=0,P=1;!(c.words[0]&P)&&L<26;++L,P<<=1);if(L>0)for(c.iushrn(L);L-- >0;)(f.isOdd()||g.isOdd())&&(f.iadd(s),g.isub(p)),f.iushrn(1),g.iushrn(1);for(var q=0,$=1;!(u.words[0]&$)&&q<26;++q,$<<=1);if(q>0)for(u.iushrn(q);q-- >0;)(b.isOdd()||S.isOdd())&&(b.iadd(s),S.isub(p)),b.iushrn(1),S.iushrn(1);c.cmp(u)>=0?(c.isub(u),f.isub(b),g.isub(S)):(u.isub(c),b.isub(f),S.isub(g))}return{a:b,b:S,gcd:u.iushln(d)}},i.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var c=this,u=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var f=new i(1),g=new i(0),b=u.clone();c.cmpn(1)>0&&u.cmpn(1)>0;){for(var S=0,d=1;!(c.words[0]&d)&&S<26;++S,d<<=1);if(S>0)for(c.iushrn(S);S-- >0;)f.isOdd()&&f.iadd(b),f.iushrn(1);for(var s=0,p=1;!(u.words[0]&p)&&s<26;++s,p<<=1);if(s>0)for(u.iushrn(s);s-- >0;)g.isOdd()&&g.iadd(b),g.iushrn(1);c.cmp(u)>=0?(c.isub(u),f.isub(g)):(u.isub(c),g.isub(f))}var L;return c.cmpn(1)===0?L=f:L=g,L.cmpn(0)<0&&L.iadd(o),L},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),u=o.clone();c.negative=0,u.negative=0;for(var f=0;c.isEven()&&u.isEven();f++)c.iushrn(1),u.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;u.isEven();)u.iushrn(1);var g=c.cmp(u);if(g<0){var b=c;c=u,u=b}else if(g===0||u.cmpn(1)===0)break;c.isub(u)}while(!0);return u.iushln(f)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){r(typeof o=="number");var c=o%26,u=(o-c)/26,f=1<<c;if(this.length<=u)return this._expand(u+1),this.words[u]|=f,this;for(var g=f,b=u;g!==0&&b<this.length;b++){var S=this.words[b]|0;S+=g,g=S>>>26,S&=67108863,this.words[b]=S}return g!==0&&(this.words[b]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var c=o<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this.strip();var u;if(this.length>1)u=1;else{c&&(o=-o),r(o<=67108863,"Number is too big");var f=this.words[0]|0;u=f===o?0:f<o?-1:1}return this.negative!==0?-u|0:u},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var c=this.ucmp(o);return this.negative!==0?-c|0:c},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,u=this.length-1;u>=0;u--){var f=this.words[u]|0,g=o.words[u]|0;if(f!==g){f<g?c=-1:f>g&&(c=1);break}}return c},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new D(o)},i.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function x(w,o){this.name=w,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}x.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},x.prototype.ireduce=function(o){var c=o,u;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),u=c.bitLength();while(u>this.n);var f=u<this.n?-1:c.ucmp(this.p);return f===0?(c.words[0]=0,c.length=1):f>0?c.isub(this.p):c.strip(),c},x.prototype.split=function(o,c){o.iushrn(this.n,0,c)},x.prototype.imulK=function(o){return o.imul(this.k)};function R(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(R,x),R.prototype.split=function(o,c){for(var u=4194303,f=Math.min(o.length,9),g=0;g<f;g++)c.words[g]=o.words[g];if(c.length=f,o.length<=9){o.words[0]=0,o.length=1;return}var b=o.words[9];for(c.words[c.length++]=b&u,g=10;g<o.length;g++){var S=o.words[g]|0;o.words[g-10]=(S&u)<<4|b>>>22,b=S}b>>>=22,o.words[g-10]=b,b===0&&o.length>10?o.length-=10:o.length-=9},R.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,u=0;u<o.length;u++){var f=o.words[u]|0;c+=f*977,o.words[u]=c&67108863,c=f*64+(c/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function N(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(N,x);function B(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(B,x);function F(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(F,x),F.prototype.imulK=function(o){for(var c=0,u=0;u<o.length;u++){var f=(o.words[u]|0)*19+c,g=f&67108863;f>>>=26,o.words[u]=g,c=f}return c!==0&&(o.words[o.length++]=c),o},i._prime=function(o){if(C[o])return C[o];var c;if(o==="k256")c=new R;else if(o==="p224")c=new N;else if(o==="p192")c=new B;else if(o==="p25519")c=new F;else throw new Error("Unknown prime "+o);return C[o]=c,c};function D(w){if(typeof w=="string"){var o=i._prime(w);this.m=o.p,this.prime=o}else r(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}D.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},D.prototype._verify2=function(o,c){r((o.negative|c.negative)===0,"red works only with positives"),r(o.red&&o.red===c.red,"red works only with red numbers")},D.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},D.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},D.prototype.add=function(o,c){this._verify2(o,c);var u=o.add(c);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},D.prototype.iadd=function(o,c){this._verify2(o,c);var u=o.iadd(c);return u.cmp(this.m)>=0&&u.isub(this.m),u},D.prototype.sub=function(o,c){this._verify2(o,c);var u=o.sub(c);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},D.prototype.isub=function(o,c){this._verify2(o,c);var u=o.isub(c);return u.cmpn(0)<0&&u.iadd(this.m),u},D.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},D.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},D.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},D.prototype.isqr=function(o){return this.imul(o,o.clone())},D.prototype.sqr=function(o){return this.mul(o,o)},D.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(r(c%2===1),c===3){var u=this.m.add(new i(1)).iushrn(2);return this.pow(o,u)}for(var f=this.m.subn(1),g=0;!f.isZero()&&f.andln(1)===0;)g++,f.iushrn(1);r(!f.isZero());var b=new i(1).toRed(this),S=b.redNeg(),d=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,d).cmp(S)!==0;)s.redIAdd(S);for(var p=this.pow(s,f),L=this.pow(o,f.addn(1).iushrn(1)),P=this.pow(o,f),q=g;P.cmp(b)!==0;){for(var $=P,H=0;$.cmp(b)!==0;H++)$=$.redSqr();r(H<q);var z=this.pow(p,new i(1).iushln(q-H-1));L=L.redMul(z),p=z.redSqr(),P=P.redMul(p),q=H}return L},D.prototype.invm=function(o){var c=o._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},D.prototype.pow=function(o,c){if(c.isZero())return new i(1).toRed(this);if(c.cmpn(1)===0)return o.clone();var u=4,f=new Array(1<<u);f[0]=new i(1).toRed(this),f[1]=o;for(var g=2;g<f.length;g++)f[g]=this.mul(f[g-1],o);var b=f[0],S=0,d=0,s=c.bitLength()%26;for(s===0&&(s=26),g=c.length-1;g>=0;g--){for(var p=c.words[g],L=s-1;L>=0;L--){var P=p>>L&1;if(b!==f[0]&&(b=this.sqr(b)),P===0&&S===0){d=0;continue}S<<=1,S|=P,d++,!(d!==u&&(g!==0||L!==0))&&(b=this.mul(b,f[S]),d=0,S=0)}s=26}return b},D.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},D.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},i.mont=function(o){return new Q(o)};function Q(w){D.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Q,D),Q.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Q.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},Q.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var u=o.imul(c),f=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=u.isub(f).iushrn(this.shift),b=g;return g.cmp(this.m)>=0?b=g.isub(this.m):g.cmpn(0)<0&&(b=g.iadd(this.m)),b._forceRed(this)},Q.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new i(0)._forceRed(this);var u=o.mul(c),f=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=u.isub(f).iushrn(this.shift),b=g;return g.cmp(this.m)>=0?b=g.isub(this.m):g.cmpn(0)<0&&(b=g.iadd(this.m)),b._forceRed(this)},Q.prototype.invm=function(o){var c=this.imod(o._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(t,Qe)})(Qn);var ps=Qn.exports;const gs=qt(ps);var _s=Yn;Yn.strict=Wi;Yn.loose=Hi;var ms=Object.prototype.toString,vs={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Yn(t){return Wi(t)||Hi(t)}function Wi(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function Hi(t){return vs[ms.call(t)]}var ws=_s.strict,ys=function(e){if(ws(e)){var n=Ie.Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(n=n.slice(e.byteOffset,e.byteOffset+e.byteLength)),n}else return Ie.Buffer.from(e)};const bs=qt(ys),zi="hex",ji="utf8",$t="0";function nt(t){return new Uint8Array(t)}function Ji(t,e=!1){const n=t.toString(zi);return e?ft(n):n}function Ms(t){return t.toString(ji)}function Wt(t){return bs(t)}function et(t,e=!1){return Ji(Wt(t),e)}function xs(t){return Ms(Wt(t))}function Ss(t){return Ie.Buffer.from(ze(t),zi)}function tt(t){return nt(Ss(t))}function Gn(t){return Ie.Buffer.from(t,ji)}function Es(t){return nt(Gn(t))}function Cs(t,e=!1){return Ji(Gn(t),e)}function ks(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function Ki(...t){let e=[];return t.forEach(n=>e=e.concat(Array.from(n))),new Uint8Array([...e])}function Rs(t,e=8){const n=t%e;return n?(t-n)/e*e+e:t}function Ts(t,e=8,n=$t){return Is(t,Rs(t.length,e),n)}function Is(t,e,n=$t){return Os(t,e,!0,n)}function ze(t){return t.replace(/^0x/,"")}function ft(t){return t.startsWith("0x")?t:`0x${t}`}function Vi(t){return t=ze(t),t=Ts(t,2),t&&(t=ft(t)),t}function As(t){const e=t.startsWith("0x");return t=ze(t),t=t.startsWith($t)?t.substring(1):t,e?ft(t):t}function Os(t,e,n,r=$t){const a=e-t.length;let i=t;if(a>0){const l=r.repeat(a);i=n?l+t:t+l}return i}function Cn(t){return Wt(new Uint8Array(t))}function Ns(t,e){return et(new Uint8Array(t),!e)}function Bs(t){return nt(t).buffer}function Ls(t){return Gn(t)}function Ps(t,e){return Cs(t,!e)}function qs(t){return tt(t).buffer}function Qi(t,e){const n=ze(Vi(new gs(t).toString(16)));return e?n:ft(n)}var ht={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kn=function(t,e){return kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},kn(t,e)};function Us(t,e){kn(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Rn=function(){return Rn=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rn.apply(this,arguments)};function Ds(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Fs(t,e,n,r){var a=arguments.length,i=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var h=t.length-1;h>=0;h--)(l=t[h])&&(i=(a<3?l(i):a>3?l(e,n,i):l(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i}function $s(t,e){return function(n,r){e(n,r,t)}}function Ws(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Hs(t,e,n,r){function a(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function h(m){try{v(r.next(m))}catch(E){l(E)}}function _(m){try{v(r.throw(m))}catch(E){l(E)}}function v(m){m.done?i(m.value):a(m.value).then(h,_)}v((r=r.apply(t,e||[])).next())})}function zs(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,l;return l={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function h(v){return function(m){return _([v,m])}}function _(v){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=v[0]&2?a.return:v[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,v[1])).done)return i;switch(a=0,i&&(v=[v[0]&2,i.value]),v[0]){case 0:case 1:i=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){n.label=v[1];break}if(v[0]===6&&n.label<i[1]){n.label=i[1],i=v;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(v);break}i[2]&&n.ops.pop(),n.trys.pop();continue}v=e.call(t,n)}catch(m){v=[6,m],a=0}finally{r=i=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function js(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Js(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Tn(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yi(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,i=[],l;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(h){l={error:h}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i}function Ks(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yi(arguments[e]));return t}function Vs(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],l=0,h=i.length;l<h;l++,a++)r[a]=i[l];return r}function vt(t){return this instanceof vt?(this.v=t,this):new vt(t)}function Qs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a={},l("next"),l("throw"),l("return"),a[Symbol.asyncIterator]=function(){return this},a;function l(k){r[k]&&(a[k]=function(I){return new Promise(function(T,A){i.push([k,I,T,A])>1||h(k,I)})})}function h(k,I){try{_(r[k](I))}catch(T){E(i[0][3],T)}}function _(k){k.value instanceof vt?Promise.resolve(k.value.v).then(v,m):E(i[0][2],k)}function v(k){h("next",k)}function m(k){h("throw",k)}function E(k,I){k(I),i.shift(),i.length&&h(i[0][0],i[0][1])}}function Ys(t){var e,n;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,i){e[a]=t[a]?function(l){return(n=!n)?{value:vt(t[a](l)),done:a==="return"}:i?i(l):l}:i}}function Gs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Tn=="function"?Tn(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(l){return new Promise(function(h,_){l=t[i](l),a(h,_,l.done,l.value)})}}function a(i,l,h,_){Promise.resolve(_).then(function(v){i({value:v,done:h})},l)}}function Zs(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Xs(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function ec(t){return t&&t.__esModule?t:{default:t}}function tc(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function nc(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const rc=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Rn},__asyncDelegator:Ys,__asyncGenerator:Qs,__asyncValues:Gs,__await:vt,__awaiter:Hs,__classPrivateFieldGet:tc,__classPrivateFieldSet:nc,__createBinding:js,__decorate:Fs,__exportStar:Js,__extends:Us,__generator:zs,__importDefault:ec,__importStar:Xs,__makeTemplateObject:Zs,__metadata:Ws,__param:$s,__read:Yi,__rest:Ds,__spread:Ks,__spreadArrays:Vs,__values:Tn},Symbol.toStringTag,{value:"Module"})),ic=Hn(rc);var Pe={},qr;function oc(){if(qr)return Pe;qr=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.isBrowserCryptoAvailable=Pe.getSubtleCrypto=Pe.getBrowerCrypto=void 0;function t(){return(Qe===null||Qe===void 0?void 0:Qe.crypto)||(Qe===null||Qe===void 0?void 0:Qe.msCrypto)||{}}Pe.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Pe.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Pe.isBrowserCryptoAvailable=n,Pe}var qe={},Ur;function ac(){if(Ur)return qe;Ur=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.isBrowser=qe.isNode=qe.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}qe.isReactNative=t;function e(){return typeof Ie.process<"u"&&typeof Ie.process.versions<"u"&&typeof Ie.process.versions.node<"u"}qe.isNode=e;function n(){return!t()&&!e()}return qe.isBrowser=n,qe}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ic;e.__exportStar(oc(),t),e.__exportStar(ac(),t)})(ht);function sc(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Et(t){return Vi(t)}function cc(t){return As(ft(t))}const In=sc;function gn(){return((e,n)=>{for(n=e="";e++<36;n+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return n})()}function lc(t,e){let n;const r=ds[t];return r&&(n=`https://${r}.infura.io/v3/${e}`),n}function uc(t,e){let n;const r=lc(t,e.infuraId);return e.custom&&e.custom[t]?n=e.custom[t]:r&&(n=r),n}function fc(t){return t===""||typeof t=="string"&&t.trim()===""}function hc(t){return!(t&&t.length)}function Gi(t,e){return ks(t,e)}function dc(t){return typeof t.method<"u"}function pt(t){return typeof t.result<"u"}function It(t){return typeof t.error<"u"}function Dr(t){return typeof t.event<"u"}function pc(t){return hs.includes(t)||t.startsWith("wc_")}function gc(t){return t.method.startsWith("wc_")?!0:!Vn.includes(t.method)}function _c(t){t=ze(t.toLowerCase());const e=ze(ha.keccak_256(Ls(t)));let n="";for(let r=0;r<t.length;r++)parseInt(e[r],16)>7?n+=t[r].toUpperCase():n+=t[r];return ft(n)}const mc=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===_c(t):!1:!1;function At(t){return!hc(t)&&!Gi(t[0])&&(t[0]=Ps(t[0])),t}function _n(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!mc(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(a){let i=a;return(typeof a=="number"||typeof a=="string"&&!fc(a))&&(Gi(a)?typeof a=="string"&&(i=Et(a)):i=Qi(a)),typeof i=="string"&&(i=cc(i)),i}const n={from:Et(t.from),to:typeof t.to>"u"?void 0:Et(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":Et(t.data)||"0x"},r=["gasPrice","gas","value","nonce"];return Object.keys(n).forEach(a=>{(typeof n[a]>"u"||typeof n[a]=="string"&&!n[a].trim().length)&&r.includes(a)&&delete n[a]}),n}function vc(t){const e=t.message||"Failed or Rejected Request";let n=-32e3;if(t&&!t.code)switch(e){case"Parse error":n=-32700;break;case"Invalid request":n=-32600;break;case"Method not found":n=-32601;break;case"Invalid params":n=-32602;break;case"Internal error":n=-32603;break;default:n=-32e3;break}const r={code:n,message:e};return t.data&&(r.data=t.data),r}var Zn={},wc=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Zi="%[a-f0-9]{2}",Fr=new RegExp("("+Zi+")|([^%]+?)","gi"),$r=new RegExp("("+Zi+")+","gi");function An(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],An(n),An(r))}function yc(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(Fr)||[],n=1;n<e.length;n++)t=An(e,n).join(""),e=t.match(Fr)||[];return t}}function bc(t){for(var e={"%FE%FF":"","%FF%FE":""},n=$r.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{var r=yc(n[0]);r!==n[0]&&(e[n[0]]=r)}n=$r.exec(t)}e["%C2"]="";for(var a=Object.keys(e),i=0;i<a.length;i++){var l=a[i];t=t.replace(new RegExp(l,"g"),e[l])}return t}var Mc=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return bc(t)}},xc=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]};(function(t){const e=wc,n=Mc,r=xc,a=y=>y==null;function i(y){switch(y.arrayFormat){case"index":return M=>(C,x)=>{const R=C.length;return x===void 0||y.skipNull&&x===null||y.skipEmptyString&&x===""?C:x===null?[...C,[_(M,y),"[",R,"]"].join("")]:[...C,[_(M,y),"[",_(R,y),"]=",_(x,y)].join("")]};case"bracket":return M=>(C,x)=>x===void 0||y.skipNull&&x===null||y.skipEmptyString&&x===""?C:x===null?[...C,[_(M,y),"[]"].join("")]:[...C,[_(M,y),"[]=",_(x,y)].join("")];case"comma":case"separator":return M=>(C,x)=>x==null||x.length===0?C:C.length===0?[[_(M,y),"=",_(x,y)].join("")]:[[C,_(x,y)].join(y.arrayFormatSeparator)];default:return M=>(C,x)=>x===void 0||y.skipNull&&x===null||y.skipEmptyString&&x===""?C:x===null?[...C,_(M,y)]:[...C,[_(M,y),"=",_(x,y)].join("")]}}function l(y){let M;switch(y.arrayFormat){case"index":return(C,x,R)=>{if(M=/\[(\d*)\]$/.exec(C),C=C.replace(/\[\d*\]$/,""),!M){R[C]=x;return}R[C]===void 0&&(R[C]={}),R[C][M[1]]=x};case"bracket":return(C,x,R)=>{if(M=/(\[\])$/.exec(C),C=C.replace(/\[\]$/,""),!M){R[C]=x;return}if(R[C]===void 0){R[C]=[x];return}R[C]=[].concat(R[C],x)};case"comma":case"separator":return(C,x,R)=>{const B=typeof x=="string"&&x.split("").indexOf(y.arrayFormatSeparator)>-1?x.split(y.arrayFormatSeparator).map(F=>v(F,y)):x===null?x:v(x,y);R[C]=B};default:return(C,x,R)=>{if(R[C]===void 0){R[C]=x;return}R[C]=[].concat(R[C],x)}}}function h(y){if(typeof y!="string"||y.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _(y,M){return M.encode?M.strict?e(y):encodeURIComponent(y):y}function v(y,M){return M.decode?n(y):y}function m(y){return Array.isArray(y)?y.sort():typeof y=="object"?m(Object.keys(y)).sort((M,C)=>Number(M)-Number(C)).map(M=>y[M]):y}function E(y){const M=y.indexOf("#");return M!==-1&&(y=y.slice(0,M)),y}function k(y){let M="";const C=y.indexOf("#");return C!==-1&&(M=y.slice(C)),M}function I(y){y=E(y);const M=y.indexOf("?");return M===-1?"":y.slice(M+1)}function T(y,M){return M.parseNumbers&&!Number.isNaN(Number(y))&&typeof y=="string"&&y.trim()!==""?y=Number(y):M.parseBooleans&&y!==null&&(y.toLowerCase()==="true"||y.toLowerCase()==="false")&&(y=y.toLowerCase()==="true"),y}function A(y,M){M=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},M),h(M.arrayFormatSeparator);const C=l(M),x=Object.create(null);if(typeof y!="string"||(y=y.trim().replace(/^[?#&]/,""),!y))return x;for(const R of y.split("&")){let[N,B]=r(M.decode?R.replace(/\+/g," "):R,"=");B=B===void 0?null:["comma","separator"].includes(M.arrayFormat)?B:v(B,M),C(v(N,M),B,x)}for(const R of Object.keys(x)){const N=x[R];if(typeof N=="object"&&N!==null)for(const B of Object.keys(N))N[B]=T(N[B],M);else x[R]=T(N,M)}return M.sort===!1?x:(M.sort===!0?Object.keys(x).sort():Object.keys(x).sort(M.sort)).reduce((R,N)=>{const B=x[N];return B&&typeof B=="object"&&!Array.isArray(B)?R[N]=m(B):R[N]=B,R},Object.create(null))}t.extract=I,t.parse=A,t.stringify=(y,M)=>{if(!y)return"";M=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},M),h(M.arrayFormatSeparator);const C=B=>M.skipNull&&a(y[B])||M.skipEmptyString&&y[B]==="",x=i(M),R={};for(const B of Object.keys(y))C(B)||(R[B]=y[B]);const N=Object.keys(R);return M.sort!==!1&&N.sort(M.sort),N.map(B=>{const F=y[B];return F===void 0?"":F===null?_(B,M):Array.isArray(F)?F.reduce(x(B),[]).join("&"):_(B,M)+"="+_(F,M)}).filter(B=>B.length>0).join("&")},t.parseUrl=(y,M)=>{M=Object.assign({decode:!0},M);const[C,x]=r(y,"#");return Object.assign({url:C.split("?")[0]||"",query:A(I(y),M)},M&&M.parseFragmentIdentifier&&x?{fragmentIdentifier:v(x,M)}:{})},t.stringifyUrl=(y,M)=>{M=Object.assign({encode:!0,strict:!0},M);const C=E(y.url).split("?")[0]||"",x=t.extract(y.url),R=t.parse(x,{sort:!1}),N=Object.assign(R,y.query);let B=t.stringify(N,M);B&&(B=`?${B}`);let F=k(y.url);return y.fragmentIdentifier&&(F=`#${_(y.fragmentIdentifier,M)}`),`${C}${B}${F}`}})(Zn);function Sc(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}function Ec(t,e){let n=Xi(t);return n=Object.assign(Object.assign({},n),e),t=Cc(n),t}function Xi(t){return Zn.parse(t)}function Cc(t){return Zn.stringify(t)}function kc(t){return typeof t.bridge<"u"}function Rc(t){const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),a=t.substring(e+1,n);function i(E){const I=E.split("@");return{handshakeTopic:I[0],version:parseInt(I[1],10)}}const l=i(a),h=typeof n<"u"?t.substr(n):"";function _(E){const k=Xi(E);return{key:k.key||"",bridge:k.bridge||""}}const v=_(h);return Object.assign(Object.assign({protocol:r},l),v)}class Tc{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,n){this._eventEmitters.push({event:e,callback:n})}trigger(e){let n=[];e&&(n=this._eventEmitters.filter(r=>r.event===e)),n.forEach(r=>{r.callback()})}}const Ic=typeof Ie.global.WebSocket<"u"?Ie.global.WebSocket:require("ws");class Ac{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new Tc,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,n,r){if(!n||typeof n!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:n,type:"pub",payload:e,silent:!!r})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,n){this._events.push({event:e,callback:n})}_socketCreate(){if(this._nextSocket)return;const e=Oc(this._url,this._protocol,this._version);if(this._nextSocket=new Ic(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=n=>this._socketReceive(n),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=n=>this._socketError(n),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const n=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(n):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let n;try{n=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:n.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const r=this._events.filter(a=>a.event==="message");r&&r.length&&r.forEach(a=>a.callback(n))}}_socketError(e){const n=this._events.filter(r=>r.event==="error");n&&n.length&&n.forEach(r=>r.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(n=>this._queue.push({topic:n,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(n=>this._socketSend(n)),this._queue=[]}}function Oc(t,e,n){var r,a;const l=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),h=Ni()?{protocol:e,version:n,env:"browser",host:((r=Pi())===null||r===void 0?void 0:r.host)||""}:{protocol:e,version:n,env:((a=Ut())===null||a===void 0?void 0:a.name)||""},_=Ec(Sc(l[1]||""),h);return l[0]+"?"+_}const mn="Session currently connected",Ve="Session currently disconnected",Nc="Session Rejected",Bc="Missing JSON RPC response",Lc='JSON-RPC success response must include "result" field',Pc='JSON-RPC error response must include "error" field',qc='JSON RPC request must have valid "method" value',Uc='JSON RPC request must have valid "id" value',Dc="Missing one of the required parameters: bridge / uri / session",Wr="JSON RPC response format is invalid",Fc="URI format is invalid",$c="QRCode Modal not provided",Hr="User close QRCode Modal";class Wc{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(n=>n.event!==e)}trigger(e){let n=[],r;dc(e)?r=e.method:pt(e)||It(e)?r=`response:${e.id}`:Dr(e)?r=e.event:r="",r&&(n=this._eventEmitters.filter(a=>a.event===r)),(!n||!n.length)&&!pc(r)&&!Dr(r)&&(n=this._eventEmitters.filter(a=>a.event==="call_request")),n.forEach(a=>{if(It(e)){const i=new Error(e.error.message);a.callback(i,null)}else a.callback(null,e)})}}class Hc{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const n=Jn(this.storageId);return n&&kc(n)&&(e=n),e}setSession(e){return jn(this.storageId,e),e}removeSession(){Kn(this.storageId)}}const zc="walletconnect.org",jc="abcdefghijklmnopqrstuvwxyz0123456789",eo=jc.split("").map(t=>`https://${t}.bridge.walletconnect.org`);function Jc(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function Kc(t){return Jc(t).split(".").slice(-2).join(".")}function Vc(){return Math.floor(Math.random()*eo.length)}function Qc(){return eo[Vc()]}function Yc(t){return Kc(t)===zc}function Gc(t){return Yc(t)?Qc():t}class Zc{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Wc,this._clientMeta=En()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new Hc(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Vn,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(Dc);e.connectorOpts.bridge&&(this.bridge=Gc(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const n=e.connectorOpts.session||this._getStorageSession();n&&(this.session=n),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new Ac({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){e&&(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const n=qs(e);this._key=n}get key(){return this._key?Ns(this._key,!0):""}set clientId(e){e&&(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=gn()),this._clientId}set peerId(e){e&&(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=En()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){e&&(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){e&&(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:n,bridge:r,key:a}=this._parseUri(e);this.handshakeTopic=n,this.bridge=r,this.key=a}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,n){const r={event:e,callback:n};this._eventManager.subscribe(r)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const n=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=n.id,this.handshakeTopic=gn(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Hr)});const r=()=>{this.killSession()};try{const a=await this._sendCallRequest(n);return a&&r(),a}catch(a){throw r(),a}}async connect(e){if(!this._qrcodeModal)throw new Error($c);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(n,r)=>{this.on("modal_closed",()=>r(new Error(Hr))),this.on("connect",(a,i)=>{if(a)return r(a);n(i.params[0])})}))}async createSession(e){if(this._connected)throw new Error(mn);if(this.pending)return;this._key=await this._generateKey();const n=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=n.id,this.handshakeTopic=gn(),this._sendSessionRequest(n,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(mn);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:n};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(mn);const n=e&&e.message?e.message:Nc,r=this._formatResponse({id:this.handshakeId,error:{message:n}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(Ve);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[n]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const n=e?e.message:"Session Disconnected",r={approved:!1,chainId:null,networkId:null,accounts:null},a=this._formatRequest({method:"wc_sessionUpdate",params:[r]});await this._sendRequest(a),this._handleSessionDisconnect(n)}async sendTransaction(e){if(!this._connected)throw new Error(Ve);const n=_n(e),r=this._formatRequest({method:"eth_sendTransaction",params:[n]});return await this._sendCallRequest(r)}async signTransaction(e){if(!this._connected)throw new Error(Ve);const n=_n(e),r=this._formatRequest({method:"eth_signTransaction",params:[n]});return await this._sendCallRequest(r)}async signMessage(e){if(!this._connected)throw new Error(Ve);const n=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(n)}async signPersonalMessage(e){if(!this._connected)throw new Error(Ve);e=At(e);const n=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(n)}async signTypedData(e){if(!this._connected)throw new Error(Ve);const n=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(n)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const n=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(n)}unsafeSend(e,n){return this._sendRequest(e,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:n}]}),new Promise((r,a)=>{this._subscribeToResponse(e.id,(i,l)=>{if(i){a(i);return}if(!l)throw new Error(Bc);r(l)})})}async sendCustomRequest(e,n){if(!this._connected)throw new Error(Ve);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return Qi(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=_n(e.params[0]));break;case"personal_sign":e.params&&(e.params=At(e.params));break}const r=this._formatRequest(e);return await this._sendCallRequest(r,n)}approveRequest(e){if(pt(e)){const n=this._formatResponse(e);this._sendResponse(n)}else throw new Error(Lc)}rejectRequest(e){if(It(e)){const n=this._formatResponse(e);this._sendResponse(n)}else throw new Error(Pc)}transportClose(){this._transport.close()}async _sendRequest(e,n){const r=this._formatRequest(e),a=await this._encrypt(r),i=typeof(n==null?void 0:n.topic)<"u"?n.topic:this.peerId,l=JSON.stringify(a),h=typeof(n==null?void 0:n.forcePushNotification)<"u"?!n.forcePushNotification:gc(r);this._transport.send(l,i,h)}async _sendResponse(e){const n=await this._encrypt(e),r=this.peerId,a=JSON.stringify(n);this._transport.send(a,r,!0)}async _sendSessionRequest(e,n,r){this._sendRequest(e,r),this._subscribeToSessionResponse(e.id,n)}_sendCallRequest(e,n){return this._sendRequest(e,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:n}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(qc);return{id:typeof e.id>"u"?In():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(Uc);const n={id:e.id,jsonrpc:"2.0"};if(It(e)){const r=vc(e.error);return Object.assign(Object.assign(Object.assign({},n),e),{error:r})}else if(pt(e))return Object.assign(Object.assign({},n),e);throw new Error(Wr)}_handleSessionDisconnect(e){const n=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Kn(Tt)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,n){n?n.approved?(this._connected?(n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),n.peerId&&!this.peerId&&(this.peerId=n.peerId),n.peerMeta&&!this.peerMeta&&(this.peerMeta=n.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let r;try{r=JSON.parse(e.payload)}catch{return}const a=await this._decrypt(r);a&&this._eventManager.trigger(a)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,n){this.on(`response:${e}`,n)}_subscribeToSessionResponse(e,n){this._subscribeToResponse(e,(r,a)=>{if(r){this._handleSessionResponse(r.message);return}pt(a)?this._handleSessionResponse(n,a.result):a.error&&a.error.message?this._handleSessionResponse(a.error.message):this._handleSessionResponse(n)})}_subscribeToCallResponse(e){return new Promise((n,r)=>{this._subscribeToResponse(e,(a,i)=>{if(a){r(a);return}pt(i)?n(i.result):i.error&&i.error.message?r(i.error):r(new Error(Wr))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,n)=>{const{request:r}=n.params[0];if(Ai()&&this._signingMethods.includes(r.method)){const a=Jn(Tt);a&&(window.location.href=a.href)}}),this.on("wc_sessionRequest",(e,n)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=n.id,this.peerId=n.params[0].peerId,this.peerMeta=n.params[0].peerMeta;const r=Object.assign(Object.assign({},n),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(e,n)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",n.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,n=this.handshakeTopic,r=this.version,a=encodeURIComponent(this.bridge),i=this.key;return`${e}:${n}@${r}?bridge=${a}&key=${i}`}_parseUri(e){const n=Rc(e);if(n.protocol===this.protocol){if(!n.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const r=n.handshakeTopic;if(!n.bridge)throw Error("Invalid or missing bridge url parameter value");const a=decodeURIComponent(n.bridge);if(!n.key)throw Error("Invalid or missing key parameter value");const i=n.key;return{handshakeTopic:r,bridge:a,key:i}}else throw new Error(Fc)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.encrypt(e,n):null}async _decrypt(e){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.decrypt(e,n):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const n={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(r,a)=>{if(r)throw r;if(e.peerMeta){const i=a.params[0].peerMeta.name;n.peerName=i}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Xc(t){return ht.getBrowerCrypto().getRandomValues(new Uint8Array(t))}const to=256,no=to,el=to,je="AES-CBC",tl=`SHA-${no}`,On="HMAC",nl="encrypt",rl="decrypt",il="sign",ol="verify";function al(t){return t===je?{length:no,name:je}:{hash:{name:tl},name:On}}function sl(t){return t===je?[nl,rl]:[il,ol]}async function Xn(t,e=je){return ht.getSubtleCrypto().importKey("raw",t,al(e),!0,sl(e))}async function cl(t,e,n){const r=ht.getSubtleCrypto(),a=await Xn(e,je),i=await r.encrypt({iv:t,name:je},a,n);return new Uint8Array(i)}async function ll(t,e,n){const r=ht.getSubtleCrypto(),a=await Xn(e,je),i=await r.decrypt({iv:t,name:je},a,n);return new Uint8Array(i)}async function ul(t,e){const n=ht.getSubtleCrypto(),r=await Xn(t,On),a=await n.sign({length:el,name:On},r,e);return new Uint8Array(a)}function fl(t,e,n){return cl(t,e,n)}function hl(t,e,n){return ll(t,e,n)}async function ro(t,e){return await ul(t,e)}async function io(t){const e=(t||256)/8,n=Xc(e);return Bs(Wt(n))}async function oo(t,e){const n=tt(t.data),r=tt(t.iv),a=tt(t.hmac),i=et(a,!1),l=Ki(n,r),h=await ro(e,l),_=et(h,!1);return ze(i)===ze(_)}async function dl(t,e,n){const r=nt(Cn(e)),a=n||await io(128),i=nt(Cn(a)),l=et(i,!1),h=JSON.stringify(t),_=Es(h),v=await fl(i,r,_),m=et(v,!1),E=Ki(v,i),k=await ro(r,E),I=et(k,!1);return{data:m,hmac:I,iv:l}}async function pl(t,e){const n=nt(Cn(e));if(!n)throw new Error("Missing key: required for decryption");if(!await oo(t,n))return null;const a=tt(t.data),i=tt(t.iv),l=await hl(i,n,a),h=xs(l);let _;try{_=JSON.parse(h)}catch{return null}return _}const gl=Object.freeze(Object.defineProperty({__proto__:null,decrypt:pl,encrypt:dl,generateKey:io,verifyHmac:oo},Symbol.toStringTag,{value:"Module"}));class _l extends Zc{constructor(e,n){super({cryptoLib:gl,connectorOpts:e,pushServerOpts:n})}}const ml=Hn(fs);var Mt={},vl=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},ao={},Je={},wl={}.toString,er=Array.isArray||function(t){return wl.call(t)=="[object Array]"},yl=er;function bl(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}W.TYPED_ARRAY_SUPPORT=bl();var zr=W.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function W(t,e,n){return!W.TYPED_ARRAY_SUPPORT&&!(this instanceof W)?new W(t,e,n):typeof t=="number"?so(this,t):Rl(this,t,e,n)}W.TYPED_ARRAY_SUPPORT&&(W.prototype.__proto__=Uint8Array.prototype,W.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&W[Symbol.species]===W&&Object.defineProperty(W,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function tr(t){if(t>=zr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+zr.toString(16)+" bytes");return t|0}function Ml(t){return t!==t}function rt(t,e){var n;return W.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e),n.__proto__=W.prototype):(n=t,n===null&&(n=new W(e)),n.length=e),n}function so(t,e){var n=rt(t,e<0?0:tr(e)|0);if(!W.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)n[r]=0;return n}function xl(t,e){var n=lo(e)|0,r=rt(t,n),a=r.write(e);return a!==n&&(r=r.slice(0,a)),r}function Nn(t,e){for(var n=e.length<0?0:tr(e.length)|0,r=rt(t,n),a=0;a<n;a+=1)r[a]=e[a]&255;return r}function Sl(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var a;return n===void 0&&r===void 0?a=new Uint8Array(e):r===void 0?a=new Uint8Array(e,n):a=new Uint8Array(e,n,r),W.TYPED_ARRAY_SUPPORT?a.__proto__=W.prototype:a=Nn(t,a),a}function El(t,e){if(W.isBuffer(e)){var n=tr(e.length)|0,r=rt(t,n);return r.length===0||e.copy(r,0,0,n),r}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Ml(e.length)?rt(t,0):Nn(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return Nn(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function co(t,e){e=e||1/0;for(var n,r=t.length,a=null,i=[],l=0;l<r;++l){if(n=t.charCodeAt(l),n>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(l+1===r){(e-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),a=n;continue}n=(a-55296<<10|n-56320)+65536}else a&&(e-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return i}function lo(t){if(W.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:co(t).length}function Cl(t,e,n,r){for(var a=0;a<r&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}function kl(t,e,n,r){return Cl(co(e,t.length-n),t,n,r)}function Rl(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Sl(t,e,n,r):typeof e=="string"?xl(t,e):El(t,e)}W.prototype.write=function(e,n,r){n===void 0?(r=this.length,n=0):r===void 0&&typeof n=="string"?(r=this.length,n=0):isFinite(n)&&(n=n|0,isFinite(r)?r=r|0:r=void 0);var a=this.length-n;if((r===void 0||r>a)&&(r=a),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");return kl(this,e,n,r)};W.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var a;if(W.TYPED_ARRAY_SUPPORT)a=this.subarray(e,n),a.__proto__=W.prototype;else{var i=n-e;a=new W(i,void 0);for(var l=0;l<i;++l)a[l]=this[l+e]}return a};W.prototype.copy=function(e,n,r,a){if(r||(r=0),!a&&a!==0&&(a=this.length),n>=e.length&&(n=e.length),n||(n=0),a>0&&a<r&&(a=r),a===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-n<a-r&&(a=e.length-n+r);var i=a-r,l;if(this===e&&r<n&&n<a)for(l=i-1;l>=0;--l)e[l+n]=this[l+r];else if(i<1e3||!W.TYPED_ARRAY_SUPPORT)for(l=0;l<i;++l)e[l+n]=this[l+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),n);return i};W.prototype.fill=function(e,n,r){if(typeof e=="string"){if(typeof n=="string"?(n=0,r=this.length):typeof r=="string"&&(r=this.length),e.length===1){var a=e.charCodeAt(0);a<256&&(e=a)}}else typeof e=="number"&&(e=e&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var i;if(typeof e=="number")for(i=n;i<r;++i)this[i]=e;else{var l=W.isBuffer(e)?e:new W(e),h=l.length;for(i=0;i<r-n;++i)this[i+n]=l[i%h]}return this};W.concat=function(e,n){if(!yl(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return rt(null,0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var a=so(null,n),i=0;for(r=0;r<e.length;++r){var l=e[r];if(!W.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(a,i),i+=l.length}return a};W.byteLength=lo;W.prototype._isBuffer=!0;W.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};Je.alloc=function(t){var e=new W(t);return e.fill(0),e};Je.from=function(t){return new W(t)};var Ne={},nr,Tl=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ne.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ne.getSymbolTotalCodewords=function(e){return Tl[e]};Ne.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};Ne.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');nr=e};Ne.isKanjiModeEnabled=function(){return typeof nr<"u"};Ne.toSJIS=function(e){return nr(e)};var Ht={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");var r=n.toLowerCase();switch(r){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,a){if(t.isValid(r))return r;try{return e(r)}catch{return a}}})(Ht);function uo(){this.buffer=[],this.length=0}uo.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Il=uo,jr=Je;function xt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=jr.alloc(t*t),this.reservedBit=jr.alloc(t*t)}xt.prototype.set=function(t,e,n,r){var a=t*this.size+e;this.data[a]=n,r&&(this.reservedBit[a]=!0)};xt.prototype.get=function(t,e){return this.data[t*this.size+e]};xt.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};xt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Al=xt,fo={};(function(t){var e=Ne.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];for(var a=Math.floor(r/7)+2,i=e(r),l=i===145?26:Math.ceil((i-13)/(2*a-2))*2,h=[i-7],_=1;_<a-1;_++)h[_]=h[_-1]-l;return h.push(6),h.reverse()},t.getPositions=function(r){for(var a=[],i=t.getRowColCoords(r),l=i.length,h=0;h<l;h++)for(var _=0;_<l;_++)h===0&&_===0||h===0&&_===l-1||h===l-1&&_===0||a.push([i[h],i[_]]);return a}})(fo);var ho={},Ol=Ne.getSymbolSize,Jr=7;ho.getPositions=function(e){var n=Ol(e);return[[0,0],[n-Jr,0],[0,n-Jr]]};var po={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){for(var i=a.size,l=0,h=0,_=0,v=null,m=null,E=0;E<i;E++){h=_=0,v=m=null;for(var k=0;k<i;k++){var I=a.get(E,k);I===v?h++:(h>=5&&(l+=e.N1+(h-5)),v=I,h=1),I=a.get(k,E),I===m?_++:(_>=5&&(l+=e.N1+(_-5)),m=I,_=1)}h>=5&&(l+=e.N1+(h-5)),_>=5&&(l+=e.N1+(_-5))}return l},t.getPenaltyN2=function(a){for(var i=a.size,l=0,h=0;h<i-1;h++)for(var _=0;_<i-1;_++){var v=a.get(h,_)+a.get(h,_+1)+a.get(h+1,_)+a.get(h+1,_+1);(v===4||v===0)&&l++}return l*e.N2},t.getPenaltyN3=function(a){for(var i=a.size,l=0,h=0,_=0,v=0;v<i;v++){h=_=0;for(var m=0;m<i;m++)h=h<<1&2047|a.get(v,m),m>=10&&(h===1488||h===93)&&l++,_=_<<1&2047|a.get(m,v),m>=10&&(_===1488||_===93)&&l++}return l*e.N3},t.getPenaltyN4=function(a){for(var i=0,l=a.data.length,h=0;h<l;h++)i+=a.data[h];var _=Math.abs(Math.ceil(i*100/l/5)-10);return _*e.N4};function n(r,a,i){switch(r){case t.Patterns.PATTERN000:return(a+i)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(a+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return a*i%2+a*i%3===0;case t.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case t.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(a,i){for(var l=i.size,h=0;h<l;h++)for(var _=0;_<l;_++)i.isReserved(_,h)||i.xor(_,h,n(a,_,h))},t.getBestMask=function(a,i){for(var l=Object.keys(t.Patterns).length,h=0,_=1/0,v=0;v<l;v++){i(v),t.applyMask(v,a);var m=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(v,a),m<_&&(_=m,h=v)}return h}})(po);var zt={},We=Ht,Ct=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],kt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];zt.getBlocksCount=function(e,n){switch(n){case We.L:return Ct[(e-1)*4+0];case We.M:return Ct[(e-1)*4+1];case We.Q:return Ct[(e-1)*4+2];case We.H:return Ct[(e-1)*4+3];default:return}};zt.getTotalCodewordsCount=function(e,n){switch(n){case We.L:return kt[(e-1)*4+0];case We.M:return kt[(e-1)*4+1];case We.Q:return kt[(e-1)*4+2];case We.H:return kt[(e-1)*4+3];default:return}};var go={},jt={},_o=Je,gt=_o.alloc(512),Ot=_o.alloc(256);(function(){for(var e=1,n=0;n<255;n++)gt[n]=e,Ot[e]=n,e<<=1,e&256&&(e^=285);for(n=255;n<512;n++)gt[n]=gt[n-255]})();jt.log=function(e){if(e<1)throw new Error("log("+e+")");return Ot[e]};jt.exp=function(e){return gt[e]};jt.mul=function(e,n){return e===0||n===0?0:gt[Ot[e]+Ot[n]]};(function(t){var e=Je,n=jt;t.mul=function(a,i){for(var l=e.alloc(a.length+i.length-1),h=0;h<a.length;h++)for(var _=0;_<i.length;_++)l[h+_]^=n.mul(a[h],i[_]);return l},t.mod=function(a,i){for(var l=e.from(a);l.length-i.length>=0;){for(var h=l[0],_=0;_<i.length;_++)l[_]^=n.mul(i[_],h);for(var v=0;v<l.length&&l[v]===0;)v++;l=l.slice(v)}return l},t.generateECPolynomial=function(a){for(var i=e.from([1]),l=0;l<a;l++)i=t.mul(i,[1,n.exp(l)]);return i}})(go);var Kr=Je,mo=go,Nl=gi.Buffer;function rr(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}rr.prototype.initialize=function(e){this.degree=e,this.genPoly=mo.generateECPolynomial(this.degree)};rr.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var n=Kr.alloc(this.degree),r=Nl.concat([e,n],e.length+this.degree),a=mo.mod(r,this.genPoly),i=this.degree-a.length;if(i>0){var l=Kr.alloc(this.degree);return a.copy(l,i),l}return a};var Bl=rr,vo={},Ke={},ir={};ir.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Le={},wo="[0-9]+",Ll="[A-Z $%*+\\-./:]+",wt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";wt=wt.replace(/u/g,"\\u");var Pl="(?:(?![A-Z0-9 $%*+\\-./:]|"+wt+`)(?:.|[\r
]))+`;Le.KANJI=new RegExp(wt,"g");Le.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Le.BYTE=new RegExp(Pl,"g");Le.NUMERIC=new RegExp(wo,"g");Le.ALPHANUMERIC=new RegExp(Ll,"g");var ql=new RegExp("^"+wt+"$"),Ul=new RegExp("^"+wo+"$"),Dl=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Le.testKanji=function(e){return ql.test(e)};Le.testNumeric=function(e){return Ul.test(e)};Le.testAlphanumeric=function(e){return Dl.test(e)};(function(t){var e=ir,n=Le;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");var i=a.toLowerCase();switch(i){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(i,l){if(t.isValid(i))return i;try{return r(i)}catch{return l}}})(Ke);(function(t){var e=Ne,n=zt,r=Ht,a=Ke,i=ir,l=er,h=7973,_=e.getBCHDigit(h);function v(I,T,A){for(var y=1;y<=40;y++)if(T<=t.getCapacity(y,A,I))return y}function m(I,T){return a.getCharCountIndicator(I,T)+4}function E(I,T){var A=0;return I.forEach(function(y){var M=m(y.mode,T);A+=M+y.getBitsLength()}),A}function k(I,T){for(var A=1;A<=40;A++){var y=E(I,A);if(y<=t.getCapacity(A,T,a.MIXED))return A}}t.from=function(T,A){return i.isValid(T)?parseInt(T,10):A},t.getCapacity=function(T,A,y){if(!i.isValid(T))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=a.BYTE);var M=e.getSymbolTotalCodewords(T),C=n.getTotalCodewordsCount(T,A),x=(M-C)*8;if(y===a.MIXED)return x;var R=x-m(y,T);switch(y){case a.NUMERIC:return Math.floor(R/10*3);case a.ALPHANUMERIC:return Math.floor(R/11*2);case a.KANJI:return Math.floor(R/13);case a.BYTE:default:return Math.floor(R/8)}},t.getBestVersionForData=function(T,A){var y,M=r.from(A,r.M);if(l(T)){if(T.length>1)return k(T,M);if(T.length===0)return 1;y=T[0]}else y=T;return v(y.mode,y.getLength(),M)},t.getEncodedBits=function(T){if(!i.isValid(T)||T<7)throw new Error("Invalid QR Code version");for(var A=T<<12;e.getBCHDigit(A)-_>=0;)A^=h<<e.getBCHDigit(A)-_;return T<<12|A}})(vo);var yo={},Bn=Ne,bo=1335,Fl=21522,Vr=Bn.getBCHDigit(bo);yo.getEncodedBits=function(e,n){for(var r=e.bit<<3|n,a=r<<10;Bn.getBCHDigit(a)-Vr>=0;)a^=bo<<Bn.getBCHDigit(a)-Vr;return(r<<10|a)^Fl};var Mo={},$l=Ke;function it(t){this.mode=$l.NUMERIC,this.data=t.toString()}it.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};it.prototype.getLength=function(){return this.data.length};it.prototype.getBitsLength=function(){return it.getBitsLength(this.data.length)};it.prototype.write=function(e){var n,r,a;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),a=parseInt(r,10),e.put(a,10);var i=this.data.length-n;i>0&&(r=this.data.substr(n),a=parseInt(r,10),e.put(a,i*3+1))};var Wl=it,Hl=Ke,vn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ot(t){this.mode=Hl.ALPHANUMERIC,this.data=t}ot.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ot.prototype.getLength=function(){return this.data.length};ot.prototype.getBitsLength=function(){return ot.getBitsLength(this.data.length)};ot.prototype.write=function(e){var n;for(n=0;n+2<=this.data.length;n+=2){var r=vn.indexOf(this.data[n])*45;r+=vn.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(vn.indexOf(this.data[n]),6)};var zl=ot,jl=Je,Jl=Ke;function at(t){this.mode=Jl.BYTE,this.data=jl.from(t)}at.getBitsLength=function(e){return e*8};at.prototype.getLength=function(){return this.data.length};at.prototype.getBitsLength=function(){return at.getBitsLength(this.data.length)};at.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Kl=at,Vl=Ke,Ql=Ne;function st(t){this.mode=Vl.KANJI,this.data=t}st.getBitsLength=function(e){return e*13};st.prototype.getLength=function(){return this.data.length};st.prototype.getBitsLength=function(){return st.getBitsLength(this.data.length)};st.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=Ql.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var Yl=st,xo={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,a){var i={},l={};l[r]=0;var h=e.PriorityQueue.make();h.push(r,0);for(var _,v,m,E,k,I,T,A,y;!h.empty();){_=h.pop(),v=_.value,E=_.cost,k=n[v]||{};for(m in k)k.hasOwnProperty(m)&&(I=k[m],T=E+I,A=l[m],y=typeof l[m]>"u",(y||A>T)&&(l[m]=T,h.push(m,T),i[m]=v))}if(typeof a<"u"&&typeof l[a]>"u"){var M=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(M)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var a=[],i=r;i;)a.push(i),n[i],i=n[i];return a.reverse(),a},find_path:function(n,r,a){var i=e.single_source_shortest_paths(n,r,a);return e.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,a={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(a[i]=r[i]);return a.queue=[],a.sorter=n.sorter||r.default_sorter,a},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var a={value:n,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(xo);var Gl=xo.exports;(function(t){var e=Ke,n=Wl,r=zl,a=Kl,i=Yl,l=Le,h=Ne,_=Gl;function v(M){return unescape(encodeURIComponent(M)).length}function m(M,C,x){for(var R=[],N;(N=M.exec(x))!==null;)R.push({data:N[0],index:N.index,mode:C,length:N[0].length});return R}function E(M){var C=m(l.NUMERIC,e.NUMERIC,M),x=m(l.ALPHANUMERIC,e.ALPHANUMERIC,M),R,N;h.isKanjiModeEnabled()?(R=m(l.BYTE,e.BYTE,M),N=m(l.KANJI,e.KANJI,M)):(R=m(l.BYTE_KANJI,e.BYTE,M),N=[]);var B=C.concat(x,R,N);return B.sort(function(F,D){return F.index-D.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function k(M,C){switch(C){case e.NUMERIC:return n.getBitsLength(M);case e.ALPHANUMERIC:return r.getBitsLength(M);case e.KANJI:return i.getBitsLength(M);case e.BYTE:return a.getBitsLength(M)}}function I(M){return M.reduce(function(C,x){var R=C.length-1>=0?C[C.length-1]:null;return R&&R.mode===x.mode?(C[C.length-1].data+=x.data,C):(C.push(x),C)},[])}function T(M){for(var C=[],x=0;x<M.length;x++){var R=M[x];switch(R.mode){case e.NUMERIC:C.push([R,{data:R.data,mode:e.ALPHANUMERIC,length:R.length},{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.ALPHANUMERIC:C.push([R,{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.KANJI:C.push([R,{data:R.data,mode:e.BYTE,length:v(R.data)}]);break;case e.BYTE:C.push([{data:R.data,mode:e.BYTE,length:v(R.data)}])}}return C}function A(M,C){for(var x={},R={start:{}},N=["start"],B=0;B<M.length;B++){for(var F=M[B],D=[],Q=0;Q<F.length;Q++){var w=F[Q],o=""+B+Q;D.push(o),x[o]={node:w,lastCount:0},R[o]={};for(var c=0;c<N.length;c++){var u=N[c];x[u]&&x[u].node.mode===w.mode?(R[u][o]=k(x[u].lastCount+w.length,w.mode)-k(x[u].lastCount,w.mode),x[u].lastCount+=w.length):(x[u]&&(x[u].lastCount=w.length),R[u][o]=k(w.length,w.mode)+4+e.getCharCountIndicator(w.mode,C))}}N=D}for(c=0;c<N.length;c++)R[N[c]].end=0;return{map:R,table:x}}function y(M,C){var x,R=e.getBestModeForData(M);if(x=e.from(C,R),x!==e.BYTE&&x.bit<R.bit)throw new Error('"'+M+'" cannot be encoded with mode '+e.toString(x)+`.
 Suggested mode is: `+e.toString(R));switch(x===e.KANJI&&!h.isKanjiModeEnabled()&&(x=e.BYTE),x){case e.NUMERIC:return new n(M);case e.ALPHANUMERIC:return new r(M);case e.KANJI:return new i(M);case e.BYTE:return new a(M)}}t.fromArray=function(C){return C.reduce(function(x,R){return typeof R=="string"?x.push(y(R,null)):R.data&&x.push(y(R.data,R.mode)),x},[])},t.fromString=function(C,x){for(var R=E(C,h.isKanjiModeEnabled()),N=T(R),B=A(N,x),F=_.find_path(B.map,"start","end"),D=[],Q=1;Q<F.length-1;Q++)D.push(B.table[F[Q]].node);return t.fromArray(I(D))},t.rawSplit=function(C){return t.fromArray(E(C,h.isKanjiModeEnabled()))}})(Mo);var Qr=Je,Jt=Ne,wn=Ht,Zl=Il,Xl=Al,eu=fo,tu=ho,Ln=po,Pn=zt,nu=Bl,Nt=vo,ru=yo,iu=Ke,yn=Mo,ou=er;function au(t,e){for(var n=t.size,r=tu.getPositions(e),a=0;a<r.length;a++)for(var i=r[a][0],l=r[a][1],h=-1;h<=7;h++)if(!(i+h<=-1||n<=i+h))for(var _=-1;_<=7;_++)l+_<=-1||n<=l+_||(h>=0&&h<=6&&(_===0||_===6)||_>=0&&_<=6&&(h===0||h===6)||h>=2&&h<=4&&_>=2&&_<=4?t.set(i+h,l+_,!0,!0):t.set(i+h,l+_,!1,!0))}function su(t){for(var e=t.size,n=8;n<e-8;n++){var r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function cu(t,e){for(var n=eu.getPositions(e),r=0;r<n.length;r++)for(var a=n[r][0],i=n[r][1],l=-2;l<=2;l++)for(var h=-2;h<=2;h++)l===-2||l===2||h===-2||h===2||l===0&&h===0?t.set(a+l,i+h,!0,!0):t.set(a+l,i+h,!1,!0)}function lu(t,e){for(var n=t.size,r=Nt.getEncodedBits(e),a,i,l,h=0;h<18;h++)a=Math.floor(h/3),i=h%3+n-8-3,l=(r>>h&1)===1,t.set(a,i,l,!0),t.set(i,a,l,!0)}function bn(t,e,n){var r=t.size,a=ru.getEncodedBits(e,n),i,l;for(i=0;i<15;i++)l=(a>>i&1)===1,i<6?t.set(i,8,l,!0):i<8?t.set(i+1,8,l,!0):t.set(r-15+i,8,l,!0),i<8?t.set(8,r-i-1,l,!0):i<9?t.set(8,15-i-1+1,l,!0):t.set(8,15-i-1,l,!0);t.set(r-8,8,1,!0)}function uu(t,e){for(var n=t.size,r=-1,a=n-1,i=7,l=0,h=n-1;h>0;h-=2)for(h===6&&h--;;){for(var _=0;_<2;_++)if(!t.isReserved(a,h-_)){var v=!1;l<e.length&&(v=(e[l]>>>i&1)===1),t.set(a,h-_,v),i--,i===-1&&(l++,i=7)}if(a+=r,a<0||n<=a){a-=r,r=-r;break}}}function fu(t,e,n){var r=new Zl;n.forEach(function(v){r.put(v.mode.bit,4),r.put(v.getLength(),iu.getCharCountIndicator(v.mode,t)),v.write(r)});var a=Jt.getSymbolTotalCodewords(t),i=Pn.getTotalCodewordsCount(t,e),l=(a-i)*8;for(r.getLengthInBits()+4<=l&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);for(var h=(l-r.getLengthInBits())/8,_=0;_<h;_++)r.put(_%2?17:236,8);return hu(r,t,e)}function hu(t,e,n){for(var r=Jt.getSymbolTotalCodewords(e),a=Pn.getTotalCodewordsCount(e,n),i=r-a,l=Pn.getBlocksCount(e,n),h=r%l,_=l-h,v=Math.floor(r/l),m=Math.floor(i/l),E=m+1,k=v-m,I=new nu(k),T=0,A=new Array(l),y=new Array(l),M=0,C=Qr.from(t.buffer),x=0;x<l;x++){var R=x<_?m:E;A[x]=C.slice(T,T+R),y[x]=I.encode(A[x]),T+=R,M=Math.max(M,R)}var N=Qr.alloc(r),B=0,F,D;for(F=0;F<M;F++)for(D=0;D<l;D++)F<A[D].length&&(N[B++]=A[D][F]);for(F=0;F<k;F++)for(D=0;D<l;D++)N[B++]=y[D][F];return N}function du(t,e,n,r){var a;if(ou(t))a=yn.fromArray(t);else if(typeof t=="string"){var i=e;if(!i){var l=yn.rawSplit(t);i=Nt.getBestVersionForData(l,n)}a=yn.fromString(t,i||40)}else throw new Error("Invalid data");var h=Nt.getBestVersionForData(a,n);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=h;else if(e<h)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+h+`.
`);var _=fu(e,n,a),v=Jt.getSymbolSize(e),m=new Xl(v);return au(m,e),su(m),cu(m,e),bn(m,n,0),e>=7&&lu(m,e),uu(m,_),isNaN(r)&&(r=Ln.getBestMask(m,bn.bind(null,m,n))),Ln.applyMask(r,m),bn(m,n,r),{modules:m,version:e,errorCorrectionLevel:n,maskPattern:r,segments:a}}ao.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");var r=wn.M,a,i;return typeof n<"u"&&(r=wn.from(n.errorCorrectionLevel,wn.M),a=Nt.from(n.version),i=Ln.from(n.maskPattern),n.toSJISFunc&&Jt.setToSJISFunction(n.toSJISFunc)),du(e,a,r,i)};var So={},or={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");var r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");var a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});var a=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:i,scale:i?4:l,margin:a,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},t.getImageWidth=function(r,a){var i=t.getScale(r,a);return Math.floor((r+a.margin*2)*i)},t.qrToImageData=function(r,a,i){for(var l=a.modules.size,h=a.modules.data,_=t.getScale(l,i),v=Math.floor((l+i.margin*2)*_),m=i.margin*_,E=[i.color.light,i.color.dark],k=0;k<v;k++)for(var I=0;I<v;I++){var T=(k*v+I)*4,A=i.color.light;if(k>=m&&I>=m&&k<v-m&&I<v-m){var y=Math.floor((k-m)/_),M=Math.floor((I-m)/_);A=E[h[y*l+M]?1:0]}r[T++]=A.r,r[T++]=A.g,r[T++]=A.b,r[T]=A.a}}})(or);(function(t){var e=or;function n(a,i,l){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,l,h){var _=h,v=l;typeof _>"u"&&(!l||!l.getContext)&&(_=l,l=void 0),l||(v=r()),_=e.getOptions(_);var m=e.getImageWidth(i.modules.size,_),E=v.getContext("2d"),k=E.createImageData(m,m);return e.qrToImageData(k.data,i,_),n(E,v,m),E.putImageData(k,0,0),v},t.renderToDataURL=function(i,l,h){var _=h;typeof _>"u"&&(!l||!l.getContext)&&(_=l,l=void 0),_||(_={});var v=t.render(i,l,_),m=_.type||"image/png",E=_.rendererOpts||{};return v.toDataURL(m,E.quality)}})(So);var Eo={},pu=or;function Yr(t,e){var n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Mn(t,e,n){var r=t+e;return typeof n<"u"&&(r+=" "+n),r}function gu(t,e,n){for(var r="",a=0,i=!1,l=0,h=0;h<t.length;h++){var _=Math.floor(h%e),v=Math.floor(h/e);!_&&!i&&(i=!0),t[h]?(l++,h>0&&_>0&&t[h-1]||(r+=i?Mn("M",_+n,.5+v+n):Mn("m",a,0),a=0,i=!1),_+1<e&&t[h+1]||(r+=Mn("h",l),l=0)):a++}return r}Eo.render=function(e,n,r){var a=pu.getOptions(n),i=e.modules.size,l=e.modules.data,h=i+a.margin*2,_=a.color.light.a?"<path "+Yr(a.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",v="<path "+Yr(a.color.dark,"stroke")+' d="'+gu(l,i,a.margin)+'"/>',m='viewBox="0 0 '+h+" "+h+'"',E=a.width?'width="'+a.width+'" height="'+a.width+'" ':"",k='<svg xmlns="http://www.w3.org/2000/svg" '+E+m+' shape-rendering="crispEdges">'+_+v+`</svg>
`;return typeof r=="function"&&r(null,k),k};var _u=vl,qn=ao,Co=So,mu=Eo;function ar(t,e,n,r,a){var i=[].slice.call(arguments,1),l=i.length,h=typeof i[l-1]=="function";if(!h&&!_u())throw new Error("Callback required as last argument");if(h){if(l<2)throw new Error("Too few arguments provided");l===2?(a=n,n=e,e=r=void 0):l===3&&(e.getContext&&typeof a>"u"?(a=r,r=void 0):(a=r,r=n,n=e,e=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(n=e,e=r=void 0):l===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(v,m){try{var E=qn.create(n,r);v(t(E,e,r))}catch(k){m(k)}})}try{var _=qn.create(n,r);a(null,t(_,e,r))}catch(v){a(v)}}Mt.create=qn.create;Mt.toCanvas=ar.bind(null,Co.render);Mt.toDataURL=ar.bind(null,Co.renderToDataURL);Mt.toString=ar.bind(null,function(t,e,n){return mu.render(t,n)});var vu=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(a){t.addRange(a)}),e&&e.focus()}},wu=vu,Gr={"text/plain":"Text","text/html":"Url",default:"Text"},yu="Copy to clipboard: #{key}, Enter";function bu(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Mu(t,e){var n,r,a,i,l,h,_=!1;e||(e={}),n=e.debug||!1;try{a=wu(),i=document.createRange(),l=document.getSelection(),h=document.createElement("span"),h.textContent=t,h.ariaHidden="true",h.style.all="unset",h.style.position="fixed",h.style.top=0,h.style.clip="rect(0, 0, 0, 0)",h.style.whiteSpace="pre",h.style.webkitUserSelect="text",h.style.MozUserSelect="text",h.style.msUserSelect="text",h.style.userSelect="text",h.addEventListener("copy",function(m){if(m.stopPropagation(),e.format)if(m.preventDefault(),typeof m.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var E=Gr[e.format]||Gr.default;window.clipboardData.setData(E,t)}else m.clipboardData.clearData(),m.clipboardData.setData(e.format,t);e.onCopy&&(m.preventDefault(),e.onCopy(m.clipboardData))}),document.body.appendChild(h),i.selectNodeContents(h),l.addRange(i);var v=document.execCommand("copy");if(!v)throw new Error("copy command was unsuccessful");_=!0}catch(m){n&&console.error("unable to copy using execCommand: ",m),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),_=!0}catch(E){n&&console.error("unable to copy using clipboardData: ",E),n&&console.error("falling back to prompt"),r=bu("message"in e?e.message:yu),window.prompt(r,t)}}finally{l&&(typeof l.removeRange=="function"?l.removeRange(i):l.removeAllRanges()),h&&document.body.removeChild(h),a()}return _}var xu=Mu,U,_t,sr,ko,Zr,cr,Ro,De={},Kt=[],Su=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Ue(t,e){for(var n in e)t[n]=e[n];return t}function To(t){var e=t.parentNode;e&&e.removeChild(t)}function Fe(t,e,n){var r,a=arguments,i={};for(r in e)r!=="key"&&r!=="ref"&&(i[r]=e[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(a[r]);if(n!=null&&(i.children=n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)i[r]===void 0&&(i[r]=t.defaultProps[r]);return Bt(t,i,e&&e.key,e&&e.ref,null)}function Bt(t,e,n,r,a){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a};return a==null&&(i.__v=i),U.vnode&&U.vnode(i),i}function Io(){return{}}function St(t){return t.children}function Be(t,e){this.props=t,this.context=e}function yt(t,e){if(e==null)return t.__?yt(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?yt(t):null}function Ao(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Ao(t)}}function Rt(t){(!t.__d&&(t.__d=!0)&&_t.push(t)&&!sr++||Zr!==U.debounceRendering)&&((Zr=U.debounceRendering)||ko)(Eu)}function Eu(){for(var t;sr=_t.length;)t=_t.sort(function(e,n){return e.__v.__b-n.__v.__b}),_t=[],t.some(function(e){var n,r,a,i,l,h,_;e.__d&&(h=(l=(n=e).__v).__e,(_=n.__P)&&(r=[],(a=Ue({},l)).__v=a,i=lr(_,l,a,n.__n,_.ownerSVGElement!==void 0,null,r,h??yt(l)),No(r,l),i!=h&&Ao(l)))})}function Oo(t,e,n,r,a,i,l,h,_){var v,m,E,k,I,T,A,y=n&&n.__k||Kt,M=y.length;if(h==De&&(h=i!=null?i[0]:M?yt(n,0):null),v=0,e.__k=He(e.__k,function(C){if(C!=null){if(C.__=e,C.__b=e.__b+1,(E=y[v])===null||E&&C.key==E.key&&C.type===E.type)y[v]=void 0;else for(m=0;m<M;m++){if((E=y[m])&&C.key==E.key&&C.type===E.type){y[m]=void 0;break}E=null}if(k=lr(t,C,E=E||De,r,a,i,l,h,_),(m=C.ref)&&E.ref!=m&&(A||(A=[]),E.ref&&A.push(E.ref,null,C),A.push(m,C.__c||k,C)),k!=null){var x;if(T==null&&(T=k),C.__d!==void 0)x=C.__d,C.__d=void 0;else if(i==E||k!=h||k.parentNode==null){e:if(h==null||h.parentNode!==t)t.appendChild(k),x=null;else{for(I=h,m=0;(I=I.nextSibling)&&m<M;m+=2)if(I==k)break e;t.insertBefore(k,h),x=h}e.type=="option"&&(t.value="")}h=x!==void 0?x:k.nextSibling,typeof e.type=="function"&&(e.__d=h)}else h&&E.__e==h&&h.parentNode!=t&&(h=yt(E))}return v++,C}),e.__e=T,i!=null&&typeof e.type!="function")for(v=i.length;v--;)i[v]!=null&&To(i[v]);for(v=M;v--;)y[v]!=null&&mt(y[v],y[v]);if(A)for(v=0;v<A.length;v++)Bo(A[v],A[++v],A[++v])}function He(t,e,n){if(n==null&&(n=[]),t==null||typeof t=="boolean")e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)He(t[r],e,n);else n.push(e?e(typeof t=="string"||typeof t=="number"?Bt(null,t,null,null,t):t.__e!=null||t.__c!=null?Bt(t.type,t.props,t.key,null,t.__v):t):t);return n}function Cu(t,e,n,r,a){var i;for(i in n)i==="children"||i==="key"||i in e||Lt(t,i,null,n[i],r);for(i in e)a&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===e[i]||Lt(t,i,e[i],n[i],r)}function Xr(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=typeof n=="number"&&Su.test(e)===!1?n+"px":n??""}function Lt(t,e,n,r,a){var i,l,h,_,v;if(a?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(i=t.style,typeof n=="string")i.cssText=n;else{if(typeof r=="string"&&(i.cssText="",r=null),r)for(_ in r)n&&_ in n||Xr(i,_,"");if(n)for(v in n)r&&n[v]===r[v]||Xr(i,v,n[v])}else e[0]==="o"&&e[1]==="n"?(l=e!==(e=e.replace(/Capture$/,"")),h=e.toLowerCase(),e=(h in t?h:e).slice(2),n?(r||t.addEventListener(e,ei,l),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,ei,l)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!a&&e in t?t[e]=n??"":typeof n!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?n==null||n===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):n==null||n===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function ei(t){this.l[t.type](U.event?U.event(t):t)}function lr(t,e,n,r,a,i,l,h,_){var v,m,E,k,I,T,A,y,M,C,x=e.type;if(e.constructor!==void 0)return null;(v=U.__b)&&v(e);try{e:if(typeof x=="function"){if(y=e.props,M=(v=x.contextType)&&r[v.__c],C=v?M?M.props.value:v.__:r,n.__c?A=(m=e.__c=n.__c).__=m.__E:("prototype"in x&&x.prototype.render?e.__c=m=new x(y,C):(e.__c=m=new Be(y,C),m.constructor=x,m.render=Ru),M&&M.sub(m),m.props=y,m.state||(m.state={}),m.context=C,m.__n=r,E=m.__d=!0,m.__h=[]),m.__s==null&&(m.__s=m.state),x.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=Ue({},m.__s)),Ue(m.__s,x.getDerivedStateFromProps(y,m.__s))),k=m.props,I=m.state,E)x.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(x.getDerivedStateFromProps==null&&y!==k&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(y,C),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(y,m.__s,C)===!1||e.__v===n.__v&&!m.__){for(m.props=y,m.state=m.__s,e.__v!==n.__v&&(m.__d=!1),m.__v=e,e.__e=n.__e,e.__k=n.__k,m.__h.length&&l.push(m),v=0;v<e.__k.length;v++)e.__k[v]&&(e.__k[v].__=e);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(y,m.__s,C),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(k,I,T)})}m.context=C,m.props=y,m.state=m.__s,(v=U.__r)&&v(e),m.__d=!1,m.__v=e,m.__P=t,v=m.render(m.props,m.state,m.context),e.__k=v!=null&&v.type==St&&v.key==null?v.props.children:Array.isArray(v)?v:[v],m.getChildContext!=null&&(r=Ue(Ue({},r),m.getChildContext())),E||m.getSnapshotBeforeUpdate==null||(T=m.getSnapshotBeforeUpdate(k,I)),Oo(t,e,n,r,a,i,l,h,_),m.base=e.__e,m.__h.length&&l.push(m),A&&(m.__E=m.__=null),m.__e=!1}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=ku(n.__e,e,n,r,a,i,l,_);(v=U.diffed)&&v(e)}catch(R){e.__v=null,U.__e(R,e,n)}return e.__e}function No(t,e){U.__c&&U.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){U.__e(r,n.__v)}})}function ku(t,e,n,r,a,i,l,h){var _,v,m,E,k,I=n.props,T=e.props;if(a=e.type==="svg"||a,i!=null){for(_=0;_<i.length;_++)if((v=i[_])!=null&&((e.type===null?v.nodeType===3:v.localName===e.type)||t==v)){t=v,i[_]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(T);t=a?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,T.is&&{is:T.is}),i=null,h=!1}if(e.type===null)I!==T&&t.data!=T&&(t.data=T);else{if(i!=null&&(i=Kt.slice.call(t.childNodes)),m=(I=n.props||De).dangerouslySetInnerHTML,E=T.dangerouslySetInnerHTML,!h){if(I===De)for(I={},k=0;k<t.attributes.length;k++)I[t.attributes[k].name]=t.attributes[k].value;(E||m)&&(E&&m&&E.__html==m.__html||(t.innerHTML=E&&E.__html||""))}Cu(t,T,I,a,h),E?e.__k=[]:(e.__k=e.props.children,Oo(t,e,n,r,e.type!=="foreignObject"&&a,i,l,De,h)),h||("value"in T&&(_=T.value)!==void 0&&_!==t.value&&Lt(t,"value",_,I.value,!1),"checked"in T&&(_=T.checked)!==void 0&&_!==t.checked&&Lt(t,"checked",_,I.checked,!1))}return t}function Bo(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){U.__e(r,n)}}function mt(t,e,n){var r,a,i;if(U.unmount&&U.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Bo(r,null,e)),n||typeof t.type=="function"||(n=(a=t.__e)!=null),t.__e=t.__d=void 0,(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){U.__e(l,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&mt(r[i],e,n);a!=null&&To(a)}function Ru(t,e,n){return this.constructor(t,n)}function bt(t,e,n){var r,a,i;U.__&&U.__(t,e),a=(r=n===cr)?null:n&&n.__k||e.__k,t=Fe(St,null,[t]),i=[],lr(e,(r?e:n||e).__k=t,a||De,De,e.ownerSVGElement!==void 0,n&&!r?[n]:a?null:Kt.slice.call(e.childNodes),i,n||De,r),No(i,t)}function Lo(t,e){bt(t,e,cr)}function Tu(t,e){var n,r;for(r in e=Ue(Ue({},t.props),e),arguments.length>2&&(e.children=Kt.slice.call(arguments,2)),n={},e)r!=="key"&&r!=="ref"&&(n[r]=e[r]);return Bt(t.type,n,e.key||t.key,e.ref||t.ref,null)}function Po(t){var e={},n={__c:"__cC"+Ro++,__:t,Consumer:function(r,a){return r.children(a)},Provider:function(r){var a,i=this;return this.getChildContext||(a=[],this.getChildContext=function(){return e[n.__c]=i,e},this.shouldComponentUpdate=function(l){i.props.value!==l.value&&a.some(function(h){h.context=l.value,Rt(h)})},this.sub=function(l){a.push(l);var h=l.componentWillUnmount;l.componentWillUnmount=function(){a.splice(a.indexOf(l),1),h&&h.call(l)}}),r.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}U={__e:function(t,e){for(var n,r;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&n.constructor.getDerivedStateFromError!=null&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(t))),n.componentDidCatch!=null&&(r=!0,n.componentDidCatch(t)),r)return Rt(n.__E=n)}catch(a){t=a}throw t}},Be.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=Ue({},this.state),typeof t=="function"&&(t=t(n,this.props)),t&&Ue(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),Rt(this))},Be.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Rt(this))},Be.prototype.render=St,_t=[],sr=0,ko=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,cr=De,Ro=0;var Ze,Oe,ti,ct=0,Un=[],ni=U.__r,ri=U.diffed,ii=U.__c,oi=U.unmount;function dt(t,e){U.__h&&U.__h(Oe,t,ct||e),ct=0;var n=Oe.__H||(Oe.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function ur(t){return ct=1,fr(Ho,t)}function fr(t,e,n){var r=dt(Ze++,2);return r.__c||(r.__c=Oe,r.__=[n?n(e):Ho(void 0,e),function(a){var i=t(r.__[0],a);r.__[0]!==i&&(r.__[0]=i,r.__c.setState({}))}]),r.__}function qo(t,e){var n=dt(Ze++,3);!U.__s&&dr(n.__H,e)&&(n.__=t,n.__H=e,Oe.__H.__h.push(n))}function hr(t,e){var n=dt(Ze++,4);!U.__s&&dr(n.__H,e)&&(n.__=t,n.__H=e,Oe.__h.push(n))}function Uo(t){return ct=5,Vt(function(){return{current:t}},[])}function Do(t,e,n){ct=6,hr(function(){typeof t=="function"?t(e()):t&&(t.current=e())},n==null?n:n.concat(t))}function Vt(t,e){var n=dt(Ze++,7);return dr(n.__H,e)?(n.__H=e,n.__h=t,n.__=t()):n.__}function Fo(t,e){return ct=8,Vt(function(){return t},e)}function $o(t){var e=Oe.context[t.__c],n=dt(Ze++,9);return n.__c=t,e?(n.__==null&&(n.__=!0,e.sub(Oe)),e.props.value):t.__}function Wo(t,e){U.useDebugValue&&U.useDebugValue(e?e(t):t)}function Iu(t){var e=dt(Ze++,10),n=ur();return e.__=t,Oe.componentDidCatch||(Oe.componentDidCatch=function(r){e.__&&e.__(r),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Au(){Un.some(function(t){if(t.__P)try{t.__H.__h.forEach(Dn),t.__H.__h.forEach(Fn),t.__H.__h=[]}catch(e){return t.__H.__h=[],U.__e(e,t.__v),!0}}),Un=[]}function Dn(t){t.t&&t.t()}function Fn(t){var e=t.__();typeof e=="function"&&(t.t=e)}function dr(t,e){return!t||e.some(function(n,r){return n!==t[r]})}function Ho(t,e){return typeof e=="function"?e(t):e}U.__r=function(t){ni&&ni(t),Ze=0,(Oe=t.__c).__H&&(Oe.__H.__h.forEach(Dn),Oe.__H.__h.forEach(Fn),Oe.__H.__h=[])},U.diffed=function(t){ri&&ri(t);var e=t.__c;if(e){var n=e.__H;n&&n.__h.length&&(Un.push(e)!==1&&ti===U.requestAnimationFrame||((ti=U.requestAnimationFrame)||function(r){var a,i=function(){clearTimeout(l),cancelAnimationFrame(a),setTimeout(r)},l=setTimeout(i,100);typeof window<"u"&&(a=requestAnimationFrame(i))})(Au))}},U.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Dn),n.__h=n.__h.filter(function(r){return!r.__||Fn(r)})}catch(r){e.some(function(a){a.__h&&(a.__h=[])}),e=[],U.__e(r,n.__v)}}),ii&&ii(t,e)},U.unmount=function(t){oi&&oi(t);var e=t.__c;if(e){var n=e.__H;if(n)try{n.__.forEach(function(r){return r.t&&r.t()})}catch(r){U.__e(r,e.__v)}}};function pr(t,e){for(var n in e)t[n]=e[n];return t}function $n(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}var zo=function(t){var e,n;function r(a){var i;return(i=t.call(this,a)||this).isPureReactComponent=!0,i}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.shouldComponentUpdate=function(a,i){return $n(this.props,a)||$n(this.state,i)},r}(Be);function jo(t,e){function n(a){var i=this.props.ref,l=i==a.ref;return!l&&i&&(i.call?i(null):i.current=null),e?!e(this.props,a)||!l:$n(this.props,a)}function r(a){return this.shouldComponentUpdate=n,Fe(t,pr({},a))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(t.displayName||t.name)+")",r.t=!0,r}var ai=U.__b;function Jo(t){function e(n){var r=pr({},n);return delete r.ref,t(r,n.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}U.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),ai&&ai(t)};var si=function(t,e){return t?He(t).reduce(function(n,r,a){return n.concat(e(r,a))},[]):null},Ko={map:si,forEach:si,count:function(t){return t?He(t).length:0},only:function(t){if((t=He(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:He},Ou=U.__e;function Vo(t){return t&&((t=pr({},t)).__c=null,t.__k=t.__k&&t.__k.map(Vo)),t}function Pt(){this.__u=0,this.o=null,this.__b=null}function Qo(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function Yo(t){var e,n,r;function a(i){if(e||(e=t()).then(function(l){n=l.default||l},function(l){r=l}),r)throw r;if(!n)throw e;return Fe(n,i)}return a.displayName="Lazy",a.t=!0,a}function Xe(){this.i=null,this.l=null}U.__e=function(t,e,n){if(t.then){for(var r,a=e;a=a.__;)if((r=a.__c)&&r.__c)return r.__c(t,e.__c)}Ou(t,e,n)},(Pt.prototype=new Be).__c=function(t,e){var n=this;n.o==null&&(n.o=[]),n.o.push(e);var r=Qo(n.__v),a=!1,i=function(){a||(a=!0,r?r(l):l())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){i(),e.__c&&e.__c()};var l=function(){var h;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});h=n.o.pop();)h.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),t.then(i,i)},Pt.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=Vo(this.__b),this.__b=null),[Fe(Be,null,e.u?null:t.children),e.u&&t.fallback]};var ci=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(Xe.prototype=new Be).u=function(t){var e=this,n=Qo(e.__v),r=e.l.get(t);return r[0]++,function(a){var i=function(){e.props.revealOrder?(r.push(a),ci(e,t,r)):a()};n?n(i):i()}},Xe.prototype.render=function(t){this.i=null,this.l=new Map;var e=He(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},Xe.prototype.componentDidUpdate=Xe.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,n){ci(t,n,e)})};var Nu=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(n){return n.children},t}();function Bu(t){var e=this,n=t.container,r=Fe(Nu,{context:e.context},t.vnode);return e.s&&e.s!==n&&(e.v.parentNode&&e.s.removeChild(e.v),mt(e.h),e.p=!1),t.vnode?e.p?(n.__k=e.__k,bt(r,n),e.__k=n.__k):(e.v=document.createTextNode(""),Lo("",n),n.appendChild(e.v),e.p=!0,e.s=n,bt(r,n,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),mt(e.h)),e.h=r,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),mt(e.h)},null}function Go(t,e){return Fe(Bu,{vnode:t,container:e})}var li=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Be.prototype.isReactComponent={};var Zo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function Wn(t,e,n){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return bt(t,e),typeof n=="function"&&n(),t?t.__c:null}function Lu(t,e,n){return Lo(t,e),typeof n=="function"&&n(),t?t.__c:null}var ui=U.event;function xn(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(n){this["UNSAFE_"+e]=n}})}U.event=function(t){ui&&(t=ui(t)),t.persist=function(){};var e=!1,n=!1,r=t.stopPropagation;t.stopPropagation=function(){r.call(t),e=!0};var a=t.preventDefault;return t.preventDefault=function(){a.call(t),n=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return n},t.nativeEvent=t};var fi={configurable:!0,get:function(){return this.class}},hi=U.vnode;U.vnode=function(t){t.$$typeof=Zo;var e=t.type,n=t.props;if(e){if(n.class!=n.className&&(fi.enumerable="className"in n,n.className!=null&&(n.class=n.className),Object.defineProperty(n,"className",fi)),typeof e!="function"){var r,a,i;for(i in n.defaultValue&&n.value!==void 0&&(n.value||n.value===0||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&e==="select"&&(He(n.children).forEach(function(l){n.value.indexOf(l.props.value)!=-1&&(l.props.selected=!0)}),delete n.value),n)if(r=li.test(i))break;if(r)for(i in a=t.props={},n)a[li.test(i)?i.replace(/[A-Z0-9]/,"-$&").toLowerCase():i]=n[i]}(function(l){var h=t.type,_=t.props;if(_&&typeof h=="string"){var v={};for(var m in _)/^on(Ani|Tra|Tou)/.test(m)&&(_[m.toLowerCase()]=_[m],delete _[m]),v[m.toLowerCase()]=m;if(v.ondoubleclick&&(_.ondblclick=_[v.ondoubleclick],delete _[v.ondoubleclick]),v.onbeforeinput&&(_.onbeforeinput=_[v.onbeforeinput],delete _[v.onbeforeinput]),v.onchange&&(h==="textarea"||h.toLowerCase()==="input"&&!/^fil|che|ra/i.test(_.type))){var E=v.oninput||"oninput";_[E]||(_[E]=_[v.onchange],delete _[v.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(xn(e.prototype,"componentWillMount"),xn(e.prototype,"componentWillReceiveProps"),xn(e.prototype,"componentWillUpdate"),e.m=!0)}hi&&hi(t)};var Pu="16.8.0";function Xo(t){return Fe.bind(null,t)}function gr(t){return!!t&&t.$$typeof===Zo}function ea(t){return gr(t)?Tu.apply(null,arguments):t}function ta(t){return!!t.__k&&(bt(null,t),!0)}function na(t){return t&&(t.base||t.nodeType===1&&t)||null}var ra=function(t,e){return t(e)};const qu={useState:ur,useReducer:fr,useEffect:qo,useLayoutEffect:hr,useRef:Uo,useImperativeHandle:Do,useMemo:Vt,useCallback:Fo,useContext:$o,useDebugValue:Wo,version:"16.8.0",Children:Ko,render:Wn,hydrate:Wn,unmountComponentAtNode:ta,createPortal:Go,createElement:Fe,createContext:Po,createFactory:Xo,cloneElement:ea,createRef:Io,Fragment:St,isValidElement:gr,findDOMNode:na,Component:Be,PureComponent:zo,memo:jo,forwardRef:Jo,unstable_batchedUpdates:ra,Suspense:Pt,SuspenseList:Xe,lazy:Yo},Uu=Object.freeze(Object.defineProperty({__proto__:null,Children:Ko,Component:Be,Fragment:St,PureComponent:zo,Suspense:Pt,SuspenseList:Xe,cloneElement:ea,createContext:Po,createElement:Fe,createFactory:Xo,createPortal:Go,createRef:Io,default:qu,findDOMNode:na,forwardRef:Jo,hydrate:Lu,isValidElement:gr,lazy:Yo,memo:jo,render:Wn,unmountComponentAtNode:ta,unstable_batchedUpdates:ra,useCallback:Fo,useContext:$o,useDebugValue:Wo,useEffect:qo,useErrorBoundary:Iu,useImperativeHandle:Do,useLayoutEffect:hr,useMemo:Vt,useReducer:fr,useRef:Uo,useState:ur,version:Pu},Symbol.toStringTag,{value:"Module"})),Du=Hn(Uu);function ia(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Ae=ml,oa=ia(Mt),Fu=ia(xu),O=Du;function $u(t){oa.toString(t,{type:"terminal"}).then(console.log)}var Wu=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function Hu(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var zu="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",ju="WalletConnect",Ju=300,Ku="rgb(64, 153, 255)",aa="walletconnect-wrapper",di="walletconnect-style-sheet",sa="walletconnect-qrcode-modal",Vu="walletconnect-qrcode-close",ca="walletconnect-qrcode-text",Qu="walletconnect-connect-button";function Yu(t){return O.createElement("div",{className:"walletconnect-modal__header"},O.createElement("img",{src:zu,className:"walletconnect-modal__headerLogo"}),O.createElement("p",null,ju),O.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},O.createElement("div",{id:Vu,className:"walletconnect-modal__close__icon"},O.createElement("div",{className:"walletconnect-modal__close__line1"}),O.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function Gu(t){return O.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:Qu+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var Zu="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function Xu(t){var e=t.color,n=t.href,r=t.name,a=t.logo,i=t.onClick;return O.createElement("a",{className:"walletconnect-modal__base__row",href:n,onClick:i,rel:"noopener noreferrer",target:"_blank"},O.createElement("h3",{className:"walletconnect-modal__base__row__h3"},r),O.createElement("div",{className:"walletconnect-modal__base__row__right"},O.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+a+"') "+e,backgroundSize:"100%"}}),O.createElement("img",{src:Zu,className:"walletconnect-modal__base__row__right__caret"})))}function ef(t){var e=t.color,n=t.href,r=t.name,a=t.logo,i=t.onClick,l=window.innerWidth<768?(r.length>8?2.5:2.7)+"vw":"inherit";return O.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:n,onClick:i,rel:"noopener noreferrer",target:"_blank"},O.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+a+"') "+e,backgroundSize:"100%"}}),O.createElement("div",{style:{fontSize:l},className:"walletconnect-connect__button__text"},r))}var tf=5,Sn=12;function nf(t){var e=Ae.isAndroid(),n=O.useState(""),r=n[0],a=n[1],i=O.useState(""),l=i[0],h=i[1],_=O.useState(1),v=_[0],m=_[1],E=l?t.links.filter(function(R){return R.name.toLowerCase().includes(l.toLowerCase())}):t.links,k=t.errorMessage,I=l||E.length>tf,T=Math.ceil(E.length/Sn),A=[(v-1)*Sn+1,v*Sn],y=E.length?E.filter(function(R,N){return N+1>=A[0]&&N+1<=A[1]}):[],M=!e&&T>1,C=void 0;function x(R){a(R.target.value),clearTimeout(C),R.target.value?C=setTimeout(function(){h(R.target.value),m(1)},1e3):(a(""),h(""),m(1))}return O.createElement("div",null,O.createElement("p",{id:ca,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&O.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:r,onChange:x}),O.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":I&&E.length?"__wrap":"")},e?O.createElement(Gu,{name:t.text.connect,color:Ku,href:t.uri,onClick:O.useCallback(function(){Ae.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):y.length?y.map(function(R){var N=R.color,B=R.name,F=R.shortName,D=R.logo,Q=Ae.formatIOSMobile(t.uri,R),w=O.useCallback(function(){Ae.saveMobileLinkInfo({name:B,href:Q})},[y]);return I?O.createElement(ef,{color:N,href:Q,name:F||B,logo:D,onClick:w}):O.createElement(Xu,{color:N,href:Q,name:B,logo:D,onClick:w})}):O.createElement(O.Fragment,null,O.createElement("p",null,k.length?t.errorMessage:t.links.length&&!E.length?t.text.no_wallets_found:t.text.loading))),M&&O.createElement("div",{className:"walletconnect-modal__footer"},Array(T).fill(0).map(function(R,N){var B=N+1,F=v===B;return O.createElement("a",{style:{margin:"auto 10px",fontWeight:F?"bold":"normal"},onClick:function(){return m(B)}},B)})))}function rf(t){var e=!!t.message.trim();return O.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var of=function(t){try{var e="";return Promise.resolve(oa.toString(t,{margin:0,type:"svg"})).then(function(n){return typeof n=="string"&&(e=n.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(n){return Promise.reject(n)}};function af(t){var e=O.useState(""),n=e[0],r=e[1],a=O.useState(""),i=a[0],l=a[1];O.useEffect(function(){try{return Promise.resolve(of(t.uri)).then(function(_){l(_)})}catch(_){Promise.reject(_)}},[]);var h=function(){var _=Fu(t.uri);_?(r(t.text.copied_to_clipboard),setInterval(function(){return r("")},1200)):(r("Error"),setInterval(function(){return r("")},1200))};return O.createElement("div",null,O.createElement("p",{id:ca,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),O.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),O.createElement("div",{className:"walletconnect-modal__footer"},O.createElement("a",{onClick:h},t.text.copy_to_clipboard)),O.createElement(rf,{message:n}))}function sf(t){var e=Ae.isAndroid(),n=Ae.isMobile(),r=n?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,a=O.useState(!1),i=a[0],l=a[1],h=O.useState(!1),_=h[0],v=h[1],m=O.useState(!n),E=m[0],k=m[1],I={mobile:n,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},T=O.useState(""),A=T[0],y=T[1],M=O.useState(!1),C=M[0],x=M[1],R=O.useState([]),N=R[0],B=R[1],F=O.useState(""),D=F[0],Q=F[1],w=function(){_||i||r&&!r.length||N.length>0||O.useEffect(function(){var c=function(){try{if(e)return Promise.resolve();l(!0);var u=Hu(function(){var f=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:Ae.getWalletRegistryUrl();return Promise.resolve(fetch(f)).then(function(g){return Promise.resolve(g.json()).then(function(b){var S=b.listings,d=n?"mobile":"desktop",s=Ae.getMobileLinkRegistry(Ae.formatMobileRegistry(S,d),r);l(!1),v(!0),Q(s.length?"":t.text.no_supported_wallets),B(s);var p=s.length===1;p&&(y(Ae.formatIOSMobile(t.uri,s[0])),k(!0)),x(p)})})},function(f){l(!1),v(!0),Q(t.text.something_went_wrong),console.error(f)});return Promise.resolve(u&&u.then?u.then(function(){}):void 0)}catch(f){return Promise.reject(f)}};c()})};w();var o=n?E:!E;return O.createElement("div",{id:sa,className:"walletconnect-qrcode__base animated fadeIn"},O.createElement("div",{className:"walletconnect-modal__base"},O.createElement(Yu,{onClose:t.onClose}),C&&E?O.createElement("div",{className:"walletconnect-modal__single_wallet"},O.createElement("a",{onClick:function(){return Ae.saveMobileLinkInfo({name:N[0].name,href:A})},href:A,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(C?N[0].name:"")+" ")):e||i||!i&&N.length?O.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(o?" right__selected":"")},O.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),n?O.createElement(O.Fragment,null,O.createElement("a",{onClick:function(){return k(!1),w()}},t.text.mobile),O.createElement("a",{onClick:function(){return k(!0)}},t.text.qrcode)):O.createElement(O.Fragment,null,O.createElement("a",{onClick:function(){return k(!0)}},t.text.qrcode),O.createElement("a",{onClick:function(){return k(!1),w()}},t.text.desktop))):null,O.createElement("div",null,E||!e&&!i&&!N.length?O.createElement(af,Object.assign({},I)):O.createElement(nf,Object.assign({},I,{links:N,errorMessage:D})))))}var cf={choose_preferred_wallet:"Whle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine untersttzten Wallet",no_wallets_found:"keine Wallet gefunden"},lf={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},uf={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera mvil",scan_qrcode_with_wallet:"Escanea el cdigo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali mal",no_supported_wallets:"Todava no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},ff={choose_preferred_wallet:"Choisissez votre portefeuille prfr",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi!",connect_with:"Connectez-vous  l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv"},hf={choose_preferred_wallet:"  ",connect_mobile_wallet:"  ",scan_qrcode_with_wallet:"WalletConnect   QR ",connect:"",qrcode:"QR ",mobile:"",desktop:"",copy_to_clipboard:" ",copied_to_clipboard:" !",connect_with:" ",loading:" ...",something_went_wrong:" .",no_supported_wallets:"   ",no_wallets_found:"   "},df={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se  carteira mvel",scan_qrcode_with_wallet:"Ler o cdigo QR com uma carteira compatvel com WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda no h carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},pf={choose_preferred_wallet:"",connect_mobile_wallet:"",scan_qrcode_with_wallet:" WalletConnect ",connect:"",qrcode:"",mobile:"",desktop:"",copy_to_clipboard:"",copied_to_clipboard:"",connect_with:"",loading:"...",something_went_wrong:"",no_supported_wallets:"",no_wallets_found:""},gf={choose_preferred_wallet:"       ",connect_mobile_wallet:"     ",scan_qrcode_with_wallet:" QR        WalletConnect  ",connect:"",qrcode:" QR",mobile:"",desktop:"",copy_to_clipboard:"   ",copied_to_clipboard:"    !",connect_with:" ",loading:"...",something_went_wrong:"  ",no_supported_wallets:"        ",no_wallets_found:"    "},pi={de:cf,en:lf,es:uf,fr:ff,ko:hf,pt:df,zh:pf,fa:gf};function _f(){var t=Ae.getDocumentOrThrow(),e=t.getElementById(di);e&&t.head.removeChild(e);var n=t.createElement("style");n.setAttribute("id",di),n.innerText=Wu,t.head.appendChild(n)}function mf(){var t=Ae.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",aa),t.body.appendChild(e),e}function la(){var t=Ae.getDocumentOrThrow(),e=t.getElementById(sa);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var n=t.getElementById(aa);n&&t.body.removeChild(n)},Ju))}function vf(t){return function(){la(),t&&t()}}function wf(){var t=Ae.getNavigatorOrThrow().language.split("-")[0]||"en";return pi[t]||pi.en}function yf(t,e,n){_f();var r=mf();O.render(O.createElement(sf,{text:wf(),uri:t,onClose:vf(e),qrcodeModalOptions:n}),r)}function bf(){la()}var ua=function(){return typeof Ie.process<"u"&&typeof Ie.process.versions<"u"&&typeof Ie.process.versions.node<"u"};function Mf(t,e,n){console.log(t),ua()?$u(t):yf(t,e,n)}function xf(){ua()||bf()}var Sf={open:Mf,close:xf},Ef=Sf;const Cf=qt(Ef);var fa={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(_,v,m){this.fn=_,this.context=v,this.once=m||!1}function i(_,v,m,E,k){if(typeof m!="function")throw new TypeError("The listener must be a function");var I=new a(m,E||_,k),T=n?n+v:v;return _._events[T]?_._events[T].fn?_._events[T]=[_._events[T],I]:_._events[T].push(I):(_._events[T]=I,_._eventsCount++),_}function l(_,v){--_._eventsCount===0?_._events=new r:delete _._events[v]}function h(){this._events=new r,this._eventsCount=0}h.prototype.eventNames=function(){var v=[],m,E;if(this._eventsCount===0)return v;for(E in m=this._events)e.call(m,E)&&v.push(n?E.slice(1):E);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(m)):v},h.prototype.listeners=function(v){var m=n?n+v:v,E=this._events[m];if(!E)return[];if(E.fn)return[E.fn];for(var k=0,I=E.length,T=new Array(I);k<I;k++)T[k]=E[k].fn;return T},h.prototype.listenerCount=function(v){var m=n?n+v:v,E=this._events[m];return E?E.fn?1:E.length:0},h.prototype.emit=function(v,m,E,k,I,T){var A=n?n+v:v;if(!this._events[A])return!1;var y=this._events[A],M=arguments.length,C,x;if(y.fn){switch(y.once&&this.removeListener(v,y.fn,void 0,!0),M){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,m),!0;case 3:return y.fn.call(y.context,m,E),!0;case 4:return y.fn.call(y.context,m,E,k),!0;case 5:return y.fn.call(y.context,m,E,k,I),!0;case 6:return y.fn.call(y.context,m,E,k,I,T),!0}for(x=1,C=new Array(M-1);x<M;x++)C[x-1]=arguments[x];y.fn.apply(y.context,C)}else{var R=y.length,N;for(x=0;x<R;x++)switch(y[x].once&&this.removeListener(v,y[x].fn,void 0,!0),M){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,m);break;case 3:y[x].fn.call(y[x].context,m,E);break;case 4:y[x].fn.call(y[x].context,m,E,k);break;default:if(!C)for(N=1,C=new Array(M-1);N<M;N++)C[N-1]=arguments[N];y[x].fn.apply(y[x].context,C)}}return!0},h.prototype.on=function(v,m,E){return i(this,v,m,E,!1)},h.prototype.once=function(v,m,E){return i(this,v,m,E,!0)},h.prototype.removeListener=function(v,m,E,k){var I=n?n+v:v;if(!this._events[I])return this;if(!m)return l(this,I),this;var T=this._events[I];if(T.fn)T.fn===m&&(!k||T.once)&&(!E||T.context===E)&&l(this,I);else{for(var A=0,y=[],M=T.length;A<M;A++)(T[A].fn!==m||k&&!T[A].once||E&&T[A].context!==E)&&y.push(T[A]);y.length?this._events[I]=y.length===1?y[0]:y:l(this,I)}return this},h.prototype.removeAllListeners=function(v){var m;return v?(m=n?n+v:v,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,t.exports=h})(fa);var kf=fa.exports;const Rf=qt(kf),Tf=Bi("XMLHttpRequest")||da.XMLHttpRequest;class If extends Rf{constructor(e){super(),this.url=e}formatError(e,n,r=-1){return{error:{message:n,code:r},id:e.id,jsonrpc:e.jsonrpc}}send(e,n){return new Promise(r=>{if(e.method==="eth_subscribe"){const h=this.formatError(e,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",h),r(h)}const a=new Tf;let i=!1;const l=(h,_)=>{if(!i)if(a.abort(),i=!0,n)n(h,_);else{const{id:v,jsonrpc:m}=e,E=h?{id:v,jsonrpc:m,error:{message:h.message,code:h.code}}:{id:v,jsonrpc:m,result:_};this.emit("payload",E),r(E)}};a.open("POST",this.url,!0),a.setRequestHeader("Content-Type","application/json"),a.timeout=60*1e3,a.onerror=l,a.ontimeout=l,a.onreadystatechange=()=>{if(a.readyState===4)try{const h=JSON.parse(a.responseText);l(h.error,h.result)}catch(h){l(h)}},a.send(JSON.stringify(e))})}}const Af=require("web3-provider-engine"),Of=require("web3-provider-engine/subproviders/cache"),Nf=require("web3-provider-engine/subproviders/fixture"),Bf=require("web3-provider-engine/subproviders/filters"),Lf=require("web3-provider-engine/subproviders/hooked-wallet"),Pf=require("web3-provider-engine/subproviders/nonce-tracker"),qf=require("web3-provider-engine/subproviders/subscriptions");class Df extends Af{constructor(e){if(super({pollingInterval:e.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=Cf,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const n=await this.getWalletConnector();if(n)return this.start(),this.subscribeWalletConnector(),n.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async n=>this.send(n),this.send=async(n,r)=>{var a;if(typeof n=="string"){const i=n;let l=r;return i==="personal_sign"&&(l=At(l)),this.sendAsyncPromise(i,l)}if(n=Object.assign({id:In(),jsonrpc:"2.0"},n),n.method==="personal_sign"&&(n.params=At(n.params)),r){this.sendAsync(n,r);return}if(n.method==="eth_signTypedData_v4"&&((a=this.walletMeta)===null||a===void 0?void 0:a.name)==="MetaMask"){const{result:i}=await this.handleOtherRequests(n);return i}else return this.sendAsyncPromise(n.method,n.params)},this.onConnect=n=>{this.connectCallbacks.push(n)},this.triggerConnect=n=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach(r=>r(n))},this.bridge=e.connector?e.connector.bridge:e.bridge||"https://bridge.walletconnect.org",this.qrcode=typeof e.qrcode>"u"||e.qrcode!==!1,this.qrcodeModal=e.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=e.qrcodeModalOptions,this.wc=e.connector||new _l({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta}),this.rpc=e.rpc||null,!this.rpc&&(!e.infuraId||typeof e.infuraId!="string"||!e.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=e.infuraId||"",this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){await(await this.getWalletConnector({disableSessionCreation:!0})).killSession(),await this.onDisconnect()}async handleRequest(e){try{let n,r=null;const a=await this.getWalletConnector();switch(e.method){case"wc_killSession":await this.close(),r=null;break;case"eth_accounts":r=a.accounts;break;case"eth_coinbase":r=a.accounts[0];break;case"eth_chainId":r=a.chainId;break;case"net_version":r=a.chainId;break;case"eth_uninstallFilter":this.sendAsync(e,i=>i),r=!0;break;default:n=await this.handleOtherRequests(e)}return n||this.formatResponse(e,r)}catch(n){throw this.emit("error",n),n}}async handleOtherRequests(e){if(!Vn.includes(e.method)&&e.method.startsWith("eth_"))return this.handleReadRequests(e);const r=await(await this.getWalletConnector()).sendCustomRequest(e);return this.formatResponse(e,r)}async handleReadRequests(e){if(!this.http){const n=new Error("HTTP Connection not available");throw this.emit("error",n),n}return this.http.send(e)}formatResponse(e,n){return{id:e.id,jsonrpc:e.jsonrpc,result:n}}getWalletConnector(e={}){const{disableSessionCreation:n=!1}=e;return new Promise((r,a)=>{const i=this.wc;this.isConnecting?this.onConnect(l=>r(l)):!i.connected&&!n?(this.isConnecting=!0,i.on("modal_closed",()=>{a(new Error("User closed modal"))}),i.createSession({chainId:this.chainId}).then(()=>{i.on("connect",(l,h)=>{if(l)return this.isConnecting=!1,a(l);this.isConnecting=!1,this.connected=!0,h&&this.updateState(h.params[0]),this.emit("connect"),this.triggerConnect(i),r(i)})}).catch(l=>{this.isConnecting=!1,a(l)})):(this.connected||(this.connected=!0,this.updateState(i.session)),r(i))})}async subscribeWalletConnector(){const e=await this.getWalletConnector();e.on("disconnect",n=>{if(n){this.emit("error",n);return}this.onDisconnect()}),e.on("session_update",(n,r)=>{if(n){this.emit("error",n);return}this.updateState(r.params[0])})}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(e){const{accounts:n,chainId:r,networkId:a,rpcUrl:i}=e;(!this.accounts||n&&this.accounts!==n)&&(this.accounts=n,this.emit("accountsChanged",n)),(!this.chainId||r&&this.chainId!==r)&&(this.chainId=r,this.emit("chainChanged",r)),(!this.networkId||a&&this.networkId!==a)&&(this.networkId=a,this.emit("networkChanged",a)),this.updateRpcUrl(this.chainId,i||"")}updateRpcUrl(e,n=""){const r={infuraId:this.infuraId,custom:this.rpc||void 0};n=n||uc(e,r),n?(this.rpcUrl=n,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${e}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new If(this.rpcUrl),this.http.on("payload",e=>this.emit("payload",e)),this.http.on("error",e=>this.emit("error",e)))}sendAsyncPromise(e,n){return new Promise((r,a)=>{this.sendAsync({id:In(),jsonrpc:"2.0",method:e,params:n||[]},(i,l)=>{if(i){a(i);return}r(l.result)})})}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new Nf({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new Of),this.addProvider(new qf),this.addProvider(new Bf),this.addProvider(new Pf),this.addProvider(new Lf(this.configWallet())),this.addProvider({handleRequest:async(e,n,r)=>{try{const{error:a,result:i}=await this.handleRequest(e);r(a,i)}catch(a){r(a)}},setEngine:e=>e})}configWallet(){return{getAccounts:async e=>{try{const r=(await this.getWalletConnector()).accounts;r&&r.length?e(null,r):e(new Error("Failed to get accounts"))}catch(n){e(n)}},processMessage:async(e,n)=>{try{const a=await(await this.getWalletConnector()).signMessage([e.from,e.data]);n(null,a)}catch(r){n(r)}},processPersonalMessage:async(e,n)=>{try{const a=await(await this.getWalletConnector()).signPersonalMessage([e.data,e.from]);n(null,a)}catch(r){n(r)}},processSignTransaction:async(e,n)=>{try{const a=await(await this.getWalletConnector()).signTransaction(e);n(null,a)}catch(r){n(r)}},processTransaction:async(e,n)=>{try{const a=await(await this.getWalletConnector()).sendTransaction(e);n(null,a)}catch(r){n(r)}},processTypedMessage:async(e,n)=>{try{const a=await(await this.getWalletConnector()).signTypedData([e.from,e.data]);n(null,a)}catch(r){n(r)}}}}}export{Df as default};
